{"version":3,"sources":["RecentGames.js","Options.js","PlayerTag.js","Standard.js","live/Live.js","Rules.js","live/Hijack.js","live/Agravaine.js","live/ProposalVoting.js","live/MissionOneProposalVoting.js","live/MissionProposalResult.js","App.js","SubmitResults.js","Game.js","live/Mission.js","live/PlayerList.js","live/LivePlayerInfo.js","live/Proposal.js","live/Voting.js","live/Assassinate.js","live/Board.js","DoNotOpen.js","live/Lobby.js","Player.js","serviceWorker.js","index.js"],"names":["RecentGames","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","gameIds","_this2","fetch","method","headers","Accept","Content-Type","body","JSON","stringify","numGames","then","response","json","data","console","log","setState","catch","error","count","react_default","a","createElement","className","map","ele","url","Link","key","to","pathname","Component","Options","display","onSubmit","event","submit","options","element","type","name","defaultChecked","value","PlayerTag","onClick","change","Standard","optionsSubmit","preventDefault","roles","i","target","length","checked","showInputs","input","join","namesContainValidChars","c","includes","isDuplicateName","trim","players","playerSubmit","document","getElementById","reset","player_key","push","src_PlayerTag","removePlayer","splice","sendGamePost","obj","hasOwnProperty","redirect","Redirect","postToGame","names","postToCustomGame","customBody","elt","duplicates","custom","isValid","forwardToGame","id","join_redirect","join_error","array","values","next","done","info","currId","game","join_input","placeholder","switches","src_Options","src_RecentGames","Live","onJoinSubmit","toSend","socket","send","lobbyJoinError","onLobbyCreateSubmit","lobbyCreateError","assertThisInitialized","joinValid","addEventListener","message","parsed","parse","path","creator","isCreator","autoComplete","Rules","Hijack","decide","choice","match","params","hide","select","selected","forEach","el","forceUpdate","hijack","filter","player","Agravaine","csv","list","string","slice","ProposalVoting","vote","upSelected","downSelected","MissionOneProposalVoting","selectFirstProposal","missionOneSelected","missionTwoSelected","selectSecondProposal","firstClasses","secondClasses","firstProposal","secondProposal","MissionProposalResult","confirm","proposedBy","sent","votedFor","votedAgainst","hijacked","hijackedBy","hijackRemoved","App","isLiveGame","react_switch_default","onChange","live_Live","src_Standard","src_Rules","results","dontRecord","SubmitResults","make_submitter","result","submit_results","record","location","dont_record_results","Game","render_game","start","window","href","history","lib","text","curr","role","role_info","information","description","Mission","num","onMission","cardsPlayed","PlayerList","newPlayer","nextProps","nextContext","LivePlayerInfo","parseInfo","res","keys","flat","Proposal","toggleSelected","sendProposal","proposal","missionOne","close","Voting","togglePass","passSelected","failSelected","reverseSelected","toggleFail","toggleReverse","card","canFail","canReverse","passClasses","failClasses","reverseClasses","Assassinate","assasinate","targets","assassination_type","Board","setupSocket","live_Proposal","missions","closeProposal","popup","live_MissionOneProposalVoting","first_proposal","second_proposal","mission1","mission2","voted_sent","proposed_by","live_MissionProposalResult","voted_not_sent","notSent","not_sent","currMission","hijacked_by","hijack_removed","playerList","current","voted_for","currProposal","live_ProposalVoting","cards","live_Voting","passed","mission","live_Mission","live_Hijack","live_Agravaine","assassinate","live_Assassinate","togglePopup","renderGame","msg","onClickHandler","React","createRef","live_LivePlayerInfo","live_PlayerList","ref","classname","DoNotOpen","open","Lobby","onRemoveHandler","deleteLobby","startGameData","showOptions","concat","_this3","Player","split","Boolean","hostname","__webpack_require__","d","__webpack_exports__","WebSocket","ReactDOM","render","BrowserRouter","Switch","Route","exact","component","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.036e08a8.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport \"./css/Player.scss\";\n\n\n// number of games to fetch\nconst numGames = 5;\n\n/**\n * Shows recently rolled games and allows users to navigate to them\n */\nclass RecentGames extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            gameIds: []\n        }\n    }\n\n    // fetch recent games from server\n    componentDidMount() {\n        const url = \"/currentgames\";\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                numGames: numGames\n            })\n        }).then((response) => {\n            // parse json\n            return response.json();\n        }).then((data) => {\n            console.log(data);\n            // set state\n            this.setState({gameIds : data});\n        }).catch(error => {\n            console.log(error);\n        });\n    }\n\n    render() {\n        let count = 0;\n        return (<div className={\"recentgames\"}>\n                <ul className={\"recentgameslist\"}>\n                    {this.state.gameIds.map(ele => {\n                        count ++;\n                        const url = \"/\" + ele;\n                        return <li><Link key={count} to={{pathname: url}}>\n                            <button className={\"large-button\"}>\n                                {ele}\n                            </button>\n                        </Link></li>\n                    })}\n                </ul>\n        </div>);\n    }\n}\n\nexport default RecentGames;","import React, { Component } from 'react';\nimport './css/App.scss';\nimport './css/Options.scss';\n\n\n/**\n * Models the options window, which toggles the role options for the name. Requires three props:\n * a submit function, an options array, and a onChange function which will be mapped to each\n * checkbox.\n */\nclass Options extends Component {\n    render() {\n        let count = 0;\n        return (\n            <div className={\"options_wrapper\"}>\n                {this.props.display ?\n                    <div className={\"options\"}>\n                        <form className={\"option_form\"} onSubmit={(event) => this.props.submit(event)}>\n                        <div className={\"checks\"}>\n                            {this.props.options.map(function (element) {\n                                count++;\n                                return (<div key={count} className={\"option_ele\"}>\n                                    <label className=\"label\">\n                                        <input className={\"check slider\"} type={\"checkbox\"} name={element.key} defaultChecked={element.value}/>\n                                        {element.key}\n                                    </label>\n                                </div>);\n                            })}\n                        </div>\n                        <input className={\"options_submit\"} type={\"submit\"} value={\"Done\"}/>\n                    </form>  </div>\n                    : null\n                }\n\n            </div>\n        );\n    }\n}\n\nexport default Options;","import React, { Component } from 'react';\nimport './css/App.scss';\n\n\n/**\n * Models the tag representing a player. Expects a String name prop, and a change handler.\n */\nclass PlayerTag extends Component {\n\n\n\n\n    render() {\n        return (\n            <div className={\"player-tag-wrapper\"}>\n                <button className={\"close_button\"} onClick={this.props.change}>X</button>\n                <p className={\"player_name\"}><span className={\"name-tag\"}> {this.props.name} </span></p>\n            </div>\n\n        );\n    }\n}\n\nexport default PlayerTag;","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport RecentGames from \"./RecentGames\";\nimport Options from \"./Options\";\nimport PlayerTag from \"./PlayerTag\";\nimport \"./css/App.scss\";\n\nimport \"./css/Standard.scss\";\nimport \"./css/PlayerTag.scss\";\n/**\n * Models a standard (not live) game.\n */\nclass Standard extends Component {\n\n\n    /**\n     * Constructor for the lobby. Initializes state objects,\n     * including roles, and truth/false values for hidden screens.\n     */\n    constructor(props) {\n        super(props);\n        const roles =  [\n            {key: \"Arthur\", value: true},\n            {key: \"Galahad\", value: false},\n            {key: \"Lancelot\", value: true},\n            {key: \"Percival\", value: true},\n            {key: \"Lone Percival\", value: false},\n            {key: \"Guinevere\", value: true},\n            {key: \"Merlin\", value: true},\n            {key: \"Titania\", value: true},\n            {key: \"Nimue\", value: false},\n            {key: \"Gawain\", value: false},\n            {key: \"Lovers\", value: true},\n            {key: \"Lone Lovers\", value: false},\n            {key: \"Mordred\", value: true},\n            {key: \"Morgana\", value: true},\n            {key: \"Maelegant\", value: true},\n            {key: \"Oberon\", value: true},\n            {key: \"Agravaine\", value: true},\n            {key: \"Colgrevance\", value: true},\n            {key: \"Duplicate Roles\", value: false}\n\n\n        ];\n\n        this.state = {\n            input: false,\n            info: false,\n            players: [],\n            names: [],\n            currId: \"NULL\",\n            game: [],\n            options: false,\n            join: false,\n            join_redirect: \"\",\n            join_input: (<input type=\"text\"  className={\"input_ele\"} id ={\"join\"} placeholder={\"Enter Game ID\"} />),\n            roles: roles,\n            switches: [],\n            redirect: \"\",\n            player_key: 0,\n            join_error: \"\",\n            error: \"\"\n        };\n\n    }\n\n    /**\n     * Shows the options panel.\n     */\n    options = () => {\n\n        this.setState({options: !this.state.options})\n\n\n    };\n\n    /**\n     * Hides the options panel and collects the data to be stored in state.\n     * Passed to the options comoponent as a prop.\n     * @param event\n     */\n    optionsSubmit = (event) => {\n        event.preventDefault();\n        let options = this.state.roles;\n        for (let i = 0; i < event.target.length-1; i++) {\n\n            options[i] = {key: event.target[i].name, value: event.target[i].checked};\n\n        }\n\n        this.setState({options: !this.state.options, roles: options});\n\n\n    };\n\n    /**\n     * Shows the information panel.\n     */\n\n\n    /**\n     * Shows the input panel\n     */\n    showInputs = () => {\n        this.setState({input: !this.state.input});\n    };\n\n    /**\n     * Shows the join game fields.\n     */\n    join = () => {\n        this.setState({join: !this.state.join})\n    };\n\n\n    namesContainValidChars = (name) => {\n        // string containing all invalid characters\n        const invalid_chars = \"/?#\\\\.\";\n        // filter out all names containing invalid characters\n        for(let i in invalid_chars) {\n            let c = invalid_chars[i];\n            if(name.includes(c)) {\n                return false;\n            }\n        }\n        return true;\n    };\n\n    isDuplicateName = (name) => {\n        // use trimmed name to avoid stuff like 'A     ' and '     A' being considered different names\n        name = name.trim();\n        for(let i in this.state.players) {\n            if(this.state.players[i].name.trim() === name) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n\n    /**\n     * Adds a player to the game\n     * @param event sumbit event for the player form.\n     */\n    playerSubmit = (event) => {\n        event.preventDefault();\n        const name = event.target[0].value;\n        document.getElementById(\"player-name-input\").reset();\n        this.setState({error: \"\"});\n        if (name === \"\") {\n            return;\n        }\n\n        if (!this.namesContainValidChars(name)) {\n            this.setState({error: \"Name contains invalid characters.\"});\n            return;\n        }\n\n        if(this.isDuplicateName(name)) {\n            this.setState({error: \"Duplicate names are not allowed.\"});\n\n            return;\n        }\n\n        if (name.length > 30) {\n            this.setState({error: \"Names must not be longer than 30 characters\"});\n\n            return;\n        }\n        const players = this.state.players;\n        this.setState({player_key: this.state.player_key + 1} );\n        const key = this.state.player_key;\n\n        players.push({key: this.state.player_key, name: name, value:  <PlayerTag key={this.state.player_key}\n                                                                                 change={() => this.removePlayer(key)}\n                                                                                 name={name}/>});\n        this.setState({players: players});\n\n    };\n\n    /**\n     * Removes a player from the game.\n     * @param key leading to player.\n     */\n    removePlayer = (key) => {\n        const players = this.state.players;\n        let i;\n        for (i = 0; i < players.length; i++) {\n            if (players[i].key === key) {\n                break;\n            }\n        }\n\n        players.splice(i, 1);\n        this.setState({players: players});\n\n    };\n\n    sendGamePost = (obj) => {\n        fetch('/names', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n\n            },\n            body: JSON.stringify(obj)\n        }).then(response => {\n            return response.json();\n        }).then(data => {\n            if(data.hasOwnProperty(\"error\")) {\n                // error, report to user\n                this.setState({error: data[\"error\"]});\n            } else {\n                // no error\n                const redirect = <Redirect to={{ pathname: \"/\" + data[\"id\"]}} />;\n                this.setState({redirect: redirect});\n            }\n\n        }).catch(error => {\n            console.log(error);\n        });\n    };\n\n    /**\n     * Redirects to a new game on submit of the Create Game form.\n     */\n    postToGame = () => {\n        let obj = {names: this.names()};\n        this.sendGamePost(obj);\n    };\n\n\n    /**\n     * Redirects to a new custom game on submit of the Create Game form.\n     */\n    postToCustomGame = () => {\n        // construct custom info to post\n        let customBody = {};\n        for(let i in this.state.roles) {\n            let elt = this.state.roles[i];\n            customBody[elt.key] = elt.value;\n        }\n\n        let duplicates = customBody[\"Duplicate Roles\"];\n        // remove key from copy so that the only info in the json is role related\n        delete customBody[\"Duplicate Roles\"];\n        // parse role keys that need to be changed\n        if(customBody[\"Lone Percival\"]) {\n            delete customBody[\"Lone Percival\"];\n            customBody[\"LonePercival\"] = true;\n        }\n        if(customBody[\"Lone Lovers\"]) {\n            delete customBody[\"Lone Lovers\"];\n            customBody[\"LoneTristan\"] = true;\n            customBody[\"LoneIseult\"] = true;\n        }\n        if(customBody[\"Lovers\"]) {\n            delete customBody[\"Lovers\"];\n            customBody[\"Tristan\"] = true;\n            customBody[\"Iseult\"] = true;\n        }\n\n        let obj = {\n            names: this.names(),\n            custom: customBody,\n            duplicates: duplicates\n        };\n\n        this.sendGamePost(obj);\n    };\n\n\n    /**\n     * Checks if a game can be started, and displays the appropriate button.\n     * @returns {*}\n     */\n    isValid = () => {\n        if ((this.state.players.length === 5\n            || this.state.players.length === 7\n            || this.state.players.length === 8\n            || this.state.players.length === 10)) {\n\n            return (\n                <div className={\"start-button-div\"}>\n                    <button onClick={this.postToGame} className={\"standard-button large-button start-button\"}>\n                        Start Game\n                    </button>\n                    <button onClick={this.postToCustomGame} className={\"large-button standard-button start-button\"}>\n                        Start Custom Game\n                    </button>\n                </div>\n            );\n        } else {\n            return (\n                <div className={\"start-button-div\"}>\n                    <button className={\"invalid-start large-button standard-button \"}>Start Game</button>\n                    <button className={\"invalid-start large-button standard-button\"}>Start Custom Game</button>\n                </div>)\n\n        }\n    };\n\n    /**\n     * Forwards the player to the game specified by game id.\n     * @returns {*}\n     */\n    forwardToGame = (event) => {\n        event.preventDefault();\n        const id = event.target[0].value;\n        const url = \"/isGame/\" + id;\n        fetch(url, {\n            method: \"GET\"\n        }).then(response => {\n            return response.json();\n        }).then (data => {\n            if (data) {\n                this.setState({join_redirect: <Redirect to={{ pathname: \"/\" + id}} />})\n\n            } else {\n                this.setState({join_error: \"Game ID not found\"});\n            }\n        });\n    };\n\n    /**\n     * Retrieves a list of String player names from the list of IDs.\n     * @returns {Array}\n     */\n    names = () => {\n        const array = [];\n        const names = this.state.players.values();\n        let next = names.next();\n        while (!next.done) {\n            array.push(next.value.name);\n            next = names.next();\n        }\n        return array;\n    };\n\n\n\n\n    render() {\n        let array = [];\n        const names = this.state.players.values();\n        let next = names.next();\n        while (!next.done) {\n            array.push(next.value.name);\n            next = names.next();\n        }\n\n        return (\n            <div className={\"Standard wrapper\"}>\n                <Options options={this.state.roles} display={this.state.options} submit={this.optionsSubmit} />\n                {this.state.redirect}\n                {this.state.join_redirect}\n                <button className={\"large-button standard-button\"} onClick={this.showInputs}>\n                    Create Game\n                </button>\n\n                {this.state.input ?\n                    <div>\n                        <form className=\"player_input\" id={\"player-name-input\"} onSubmit={this.playerSubmit}>\n                            <input type=\"text\" id ={\"input-field\"} placeholder={\"Enter player name\"}/>\n                            <br></br>\n                            <div className={\"error\"}>{this.state.error}</div>\n                            <input type={\"submit\"} className={\"small-button \"} id={\"add-submit\"} value={\"Add\"}/>\n                            <button className={\"small-button\"} onClick={this.options}>Options</button>\n\n                        </form>\n\n                        <div className={\"player-tag-container\"}>\n                            {this.state.players.map(function(element) {\n                                return element.value;\n                            })}\n                        </div>\n                        {this.isValid()}\n                    </div> : null }\n                <button className={\"large-button standard-button\"} onClick={this.join}>\n                    Join Game\n                </button>\n                {this.state.join ?\n                    <div>\n                        <form className=\"player_input\" onSubmit={this.forwardToGame}>\n                            {this.state.join_input}\n                            <input type={\"submit\"} className={\"small-button\"} id={\"join-submit\"} value={\"Join\"}/>\n                            <br></br>\n                            <div className=\"error\"> {this.state.join_error} </div>\n                        </form>\n                        <RecentGames/>\n\n                    </div> : null }\n\n\n            </div>\n\n        );\n    }\n}\n\nexport default Standard;","import React, { Component } from 'react';\nimport '../css/Live.scss';\nimport {socket} from \"../index.js\";\nimport { Redirect } from 'react-router-dom';\n\n/**\n * Models the tag representing a player. Expects a String name prop, and a change handler.\n */\nclass Live extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(this);\n        this.state = {\n            joinValid: false,\n            lobbyCreateError: \"\",\n            lobbyJoinError: \"\",\n            redirect: \"\",\n            id: \"\",\n            name: \"\"\n        }\n    }\n\n    onJoinSubmit = (event) => {\n        event.preventDefault();\n        if (event.target[0].value.length !== 4) {\n            this.setState({lobbyJoinError: \"Please enter a game id of length 4\"});\n            return;\n        }\n\n        if (event.target[1].value === \"\") {\n            this.setState({lobbyJoinError: \"Please enter a name\"});\n            return;\n        }\n\n        const toSend = {\n            type: \"JOIN_LOBBY\",\n            id: event.target[0].value,\n            name: event.target[1].value\n        };\n\n        this.setState({id: event.target[0].value, name: event.target[1].value});\n\n        socket.send(JSON.stringify(toSend));\n\n    };\n\n    onLobbyCreateSubmit = (event) => {\n        event.preventDefault();\n\n        if (event.target[0].value === \"\") {\n            this.setState({lobbyCreateError: \"Please enter a name\"});\n        }\n\n        const toSend = {\n            type: \"CREATE_LOBBY\",\n            name: event.target[0].value,\n\n        };\n\n        this.setState({name: event.target[0].value});\n\n        socket.send(JSON.stringify(toSend));\n    };\n\n    componentDidMount() {\n\n        socket.addEventListener(\"message\", (message) => {\n            console.log(\"in live event handler\");\n            console.log(message.data);\n            const parsed = JSON.parse(message.data);\n\n            switch (parsed.type) {\n                case \"NEW_PLAYER\":\n                    console.log(\"new player\");\n                    console.log(parsed.name);\n                    break;\n                case \"REMOVE_PLAYER\":\n                    console.log(\"remove player\");\n                    break;\n                case \"LOBBY_DELETED\":\n                    console.log(\"delete lobby\");\n                    break;\n                case \"LOBBY_CREATED\":\n                    console.log(\"lobby created\");\n\n                    let path = \"/live/\" +parsed.id;\n                    this.setState({redirect: <Redirect to={{pathname: path, state: {name: this.state.name, creator: parsed.name,\n                                id: parsed.id, isCreator: true, names: [parsed.name]}}}/>});\n                    break;\n                case \"LOBBY_JOINED\":\n                    console.log(\"lobby joined\");\n                    console.log(parsed);\n                    path = \"/live/\" + this.state.id;\n                    console.log(parsed.names);\n                    this.setState({redirect: <Redirect to={{pathname: path, state: {name: this.state.name, names: JSON.parse(parsed.names)}}}/>});\n                    break;\n            }\n\n            // socket.send(JSON.stringify(\"message recieved\"));\n        });\n    }\n\n    render() {\n        return ( <div className={\"Live\"}>\n                {this.state.redirect}\n                <form className={\"lobby-form\"} onSubmit={this.onJoinSubmit}>\n                    <input className={\"lobby-input\"} type={\"text\"} placeholder={\"Enter game code\"} autoComplete={\"off\"}/>\n                    <input className={\"lobby-input\"} type={\"text\"} placeholder={\"Enter name\"} autoComplete={\"off\"}/>\n                    <input id={\"join-game-submit\"} className={\"live-button large-button\"} type={\"submit\"} value={\"Join Game\"}/>\n                </form>\n\n                <form className={\"lobby-form\"} onSubmit={this.onLobbyCreateSubmit}>\n                    <input className={\"lobby-input\"} type={\"text\"} placeholder={\"Enter name\"} autoComplete={\"off\"}/>\n                    <input id={\"new-game-submit\"} className={\"live-button large-button\"} type={\"submit\"} value={\"Create New Game\"}/>\n                </form>\n\n            </div>\n\n        );\n    }\n}\n\nexport default Live;","import React, { Component } from 'react';\nimport './css/App.scss';\n\n\n/**\n * Models the tag representing a player. Expects a String name prop, and a change handler.\n */\nclass Rules extends Component {\n        render() {\n        return (\n\n            <div className={\"Rules\"} id={\"rules\"}>\n                <h1>Rules</h1>\n\n\n\n\n                {/*<ScrollableAnchor id={\"overview\"}>  <div> </div> </ScrollableAnchor>*/}\n                <div id={\"overview\"}> <h2>Overview</h2> </div>\n\n                THavalon is a custom ruleset for the social deception game Resistance: Avalon. If you've played Avalon before,\n                the basic structure of the game is the same, although there are many more roles.\n\n                {/*<ScrollableAnchor id={\"missions\"}> <div> </div> </ScrollableAnchor>*/}\n\n                <div id={\"missions\"}> <h2>Good, Evil, and Missions</h2> </div>\n                In THavalon, there are two teams, Good and Evil, who win depending on the outcome of five missions. For each mission,\n                a certain number of players are sent. These players each select a mission card (fail, pass, or reverse) to play,\n                and all cards played on the mission are then revealed to all players.\n\n                If there is one fail card played, even if all the rest of the cards are successes, the mission fails. If a reverse card\n                is played, the result of the mission is reversed (e.g. a failing mission will become a passing mission, or vise verse).\n                Only Lancelot and Maelegant can play reverse cards.\n\n                Good wins if they pass three missions, and survive assasination. Evil wins if they fail three missions.\n\n                {/*<ScrollableAnchor id={\"proposals\"}> <div> </div> </ScrollableAnchor>*/}\n\n                    <div id={\"proposals\"}> <h2>Proposals</h2> </div>\n\n                To determine who goes on missions, players make proposals, which are then voted on. The first mission is a binary choice\n                between proposals made by the two players before the starting player, which are not discussed. After that, beginning with\n                the starting player, proposals travel clockwise, moving to the next person if they are voted down.\n\n                There are a limited number of missions that can be proposed per round (3 in 5 players, 4 in 7 and 8 player, and 5 in 10 player).\n                The last possible proposal is sent automatically.\n\n                {/*<ScrollableAnchor id={\"assasination\"}>  <div> </div> </ScrollableAnchor>*/}\n\n                <h2>Assassination</h2>\n\n                If Good has successfully passed three missions, Evil then has the chance to assasinate. To assasinate, can either\n                name a pair of Lovers, Merlin, Nimue if included, or claim there are no assasinable targets in the game. If Evil\n                selects correctly, they win. If not, Good wins.\n                {/*<ScrollableAnchor id={\"hijack\"}>  <div> </div> </ScrollableAnchor>*/}\n\n                <h2>Inquisition and Hijack</h2>\n\n                With 7+ players, two new mechanics come into play: weak inquisition and hijack.\n\n                Weak inquisition happens if the first proposal of a round is sent. The player who sent the mission can then select one\n                other player, and view their card, showing it to no one else.\n\n                Hijack happens when the last proposal of a round is sent. An evil player will have the ability \"Hijack\" declared in their\n                information. This player may then reveal themselves as evil, and remove a player from the mission, inserting themselves\n                on.\n\n                {/*<ScrollableAnchor id={\"good_roles\"}> <div> </div>  </ScrollableAnchor>*/}\n\n                    <h2> Roles </h2>\n                    <div className={\"italics\"}>Note: by default the following roles are included in the game,\n                            with no duplicates or Lone Lovers\n                            <div className={\"break\"}> 5 players: Lancelot, Merlin, the Lovers, Percival, Guinevere, Mordred, Morgana, Maelegant, Oberon </div>\n                            <div className={\"break\"}> 7 players: add Titania and Arthur</div>\n                            <div className={\"break\"}> 8 players: add Agravaine </div>\n                            <div className={\"break\"}> 10 players: add Colgrevance </div>\n\n\n\n\n                    </div>\n\n                <h2>Good Roles</h2>\n\n                    <ul className={\"roles-list\"}>\n                            <li> <em> Arthur: </em> knows which Good roles are present in the game. </li>\n                            <li> <em>Galahad: </em> Can declare after two failed missions. Then may conduct a 'night phase' where they request\n                                    two good roles, who then reveal themselves to Galahad only.</li>\n                            <li> <em> Gawain: </em> Sees two pairs of players, one pair is on the same team, one is on opposite teams.\n                            </li>\n                            <li> <em> Guinevere: </em> Sees two rumors in the form of \"A sees B\" where A and B are players, one of which\n                                    is true, one of which is a lie.\n                            </li>\n                            <li> <em> Lancelot: </em> may play reverses while on missions; appears evil to Merlin. </li>\n                            <li> <em> The Lovers (Tristan and Iseult): </em> see each other,\n                                    always appear together (unless Lone Lovers is enabled),\n                                    and can be assassinated as a pair. </li>\n                            <li> <em> Merlin: </em> sees all players that are either evil\n                                    (except Mordred) or are Lancelot, can be assassinated.</li>\n                            <li> <em> Nimue: </em> knows which roles are in the game; can be Assassinated. </li>\n                            <li> <em> Percival: </em> sees both Merlin and Morgana,\n                                    but cannot distinguish which role each seen player has. </li>\n                            <li> <em> Titania:</em> adds false information to one Evil player's information.\n                            </li>\n                    </ul>\n\n                <h2>Evil Roles</h2>\n                    <ul className={\"roles-list\"}>\n                    <li> <em> Mordred:</em> is hidden from Merlin.</li>\n                    <li> <em> Morgana: </em> appears like Merlin to Percival. </li>\n                    <li> <em> Maelegant:</em> may play Reversal cards while on missions.</li>\n                    <li> <em> Oberon: </em> adds false information to one Good player. </li>\n                    <li> <em> Agravaine: </em> must play Fails; may declare after having been on a successful mission to cause it to Fail instead.\n                    </li>\n                    <li> <em> Colgrevance </em> is hidden from other Evil roles; knows which player has each Evil role.\n                    </li>\n                    </ul>\n                \n\n            </div>);\n    }\n}\n\nexport default Rules;","import React, {Component} from 'react';\nimport \"../css/Proposal.scss\"\nimport {socket} from \"../index\";\n\nclass Hijack extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            next: false,\n            players: this.props.players.map(ele => {\n                return {name: ele, selected: false}\n            })\n\n        }\n    }\n\n    decide = (choice) => {\n\n        if (!choice) {\n            socket.send(JSON.stringify({\n                    type: \"HIJACK_RESPONSE\",\n                    choice: choice,\n                    id: this.props.match.params.id,\n                    name: this.props.name\n\n                })\n            );\n            this.props.hide(this);\n        } else {\n            this.setState({next: true});\n        }\n    };\n\n    select = (ele) => {\n        ele.selected = true;\n\n        this.state.players.forEach(el => {\n            if (el !== ele) {\n                el.selected = false\n            }\n        });\n\n        this.forceUpdate();\n    };\n\n    hijack = () => {\n        const selected = this.state.players.filter(ele => ele.selected);\n        if (selected.length !== 1) {\n            return;\n        }\n        socket.send(JSON.stringify({\n            type: \"HIJACK_RESPONSE\",\n            choice: true,\n            player: selected[0]\n        }));\n        this.props.hide(this);\n\n\n    };\n\n    render() {\n\n        return (\n            <div className={\"Hijack pop-up\"}>\n\n                {this.state.next ?\n                    <div>\n                        <h2> Choose a player to remove from the mission</h2>\n                        <div className={\"players-wrapper\"}>\n                            {this.state.players.map(ele => {\n                            const selected = ele.selected ? \"selected\" : \"\";\n                            return (\n                                <div className={\" player-wrapper\"}>\n                                    <div className={\"proposal-player \" + selected}\n                                         onClick={() => this.select(ele)}>\n                                        <div className={\"player-text\"}> {ele.name} </div>\n                                    </div>\n                                </div>)\n                        })}\n\n                        </div>\n                        <button className={\"large-button proposal-button\"} onClick={this.hijack}>Confirm</button>\n\n                    </div> :\n                    <div className={\"proposal-wrapper\"}>\n                        <h2> You have the Hijack ability. Would you like to remove a player from this mission? </h2>\n                        <div>\n                            <button className={\"proposal-button\"} onClick={() => this.decide(true)}>Yes</button>\n                            <button className={\"proposal-button\"} onClick={() => this.decide(false)}>No</button>\n                        </div>\n                    </div>\n                }\n\n\n            </div>\n\n        );\n    }\n}\n\nexport default Hijack;\n","import React, {Component} from 'react';\nimport \"../css/Proposal.scss\"\nimport {socket} from \"../index\";\n\nclass Agravaine extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {}\n    }\n\n    decide = (choice) => {\n        socket.send(JSON.stringify({\n                type: \"AGRAVAINE_RESPONSE\",\n                choice: choice,\n                id: this.props.match.params.id,\n                name: this.props.name\n            })\n        );\n        this.props.hide(this);\n    };\n\n\n    render() {\n\n        return (\n            <div className={\"Agravaine pop-up\"}>\n                <h2 className={\"agravaine-h2\"}> Would you like to declare as Agravaine to cause this mission to\n                    fail? </h2>\n                <button className={\"proposal-button\"} onClick={() => this.decide(true)}>Yes</button>\n                <button className={\"proposal-button\"} onClick={() => this.decide(false)}>No</button>\n\n            </div>\n\n        );\n    }\n}\n\nexport default Agravaine;\n","import React, { Component } from 'react';\nimport \"../css/Proposal.scss\";\nimport {socket} from \"../index.js\";\n\nfunction csv(list) {\n    let string = \"\";\n    for (let i=0; i<list.length; i++) {\n        string += list[i] + \", \";\n    }\n    return string.slice(0, string.length-2);\n}\nclass ProposalVoting extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            upSelected: false,\n            downSelected: true,\n            list: csv(JSON.parse(this.props.players))\n\n        }\n    }\n\n    vote = (vote) => {\n        socket.send(\n            JSON.stringify({\n                type: \"MISSION_VOTING_RESPONSE\",\n                vote: vote,\n                id: this.props.id,\n                name:this.props.name\n\n            })\n        );\n        this.props.hide(this);\n    };\n\n    render() {\n        return (\n\n            <div className={\"ProposalVoting pop-up\" }>\n                <div className={\"proposal-list\"}>\n                    Voting on: {this.state.list}\n                </div>\n                <button className={\"proposal-vote\"} onClick={() => this.vote(\"upvote\")}>\n                    <i className=\"far fa-thumbs-up\"></i>\n                </button>\n                <button className={\"proposal-vote\"} onClick={() => this.vote(\"downvote\")}>\n                    <i className=\"far fa-thumbs-down\"></i>\n                </button>\n\n\n            </div>\n\n        );\n    }\n}\n\nexport default ProposalVoting;\nexport {csv};","import React, {Component} from 'react';\nimport {csv} from \"./ProposalVoting\"\nimport \"../css/Proposal.scss\"\nimport {socket} from \"../index\";\n\n/**\n * Deals with voting on missions for mission one.\n */\nclass MissionOneProposalVoting extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            missionOneSelected: false,\n            missionTwoSelected: false,\n        }\n    }\n\n    selectFirstProposal = () => {\n        this.setState({missionOneSelected: true, missionTwoSelected: false});\n\n    };\n\n    selectSecondProposal = () => {\n        this.setState({missionOneSelected: false, missionTwoSelected: true});\n\n    };\n\n    vote = () => {\n        let vote = \"\";\n        if (this.state.missionOneSelected) {\n            vote = \"upvote\";\n        } else if (this.state.missionTwoSelected) {\n            vote = \"downvote\";\n        } else {\n            return;\n        }\n        socket.send(JSON.stringify({type: \"MISSION_ONE_VOTING_RESPONSE\", vote: vote, id: this.props.id, name:this.props.name\n        }));\n        this.props.hide(this);\n    };\n\n\n    render() {\n        const firstClasses = this.state.missionOneSelected ? \"mission-one-mission selected\" : \"mission-one-mission\";\n        const secondClasses = this.state.missionTwoSelected ? \"mission-one-mission selected\" : \"mission-one-mission\";\n\n        return (\n            <div className={\"MissionOneProposalVoting pop-up\"}>\n                <h2>Mission One</h2>\n                <div className={\"mission-wrapper\"}>\n                    <div className={firstClasses} onClick={this.selectFirstProposal}>\n                        First Proposal: {csv(JSON.parse(this.props.firstProposal))}\n                    </div>\n                    <div className={secondClasses} onClick={this.selectSecondProposal}>\n                        Second Proposal: {csv(JSON.parse(this.props.secondProposal))}\n                    </div>\n                </div>\n                <button className={\"large-button proposal-button\"} onClick={this.vote}>Vote</button>\n\n            </div>\n\n        );\n    }\n}\n\nexport default MissionOneProposalVoting;\n","import React, {Component} from 'react';\nimport {csv} from \"./ProposalVoting\"\nimport \"../css/Proposal.scss\"\nimport {socket} from \"../index\";\n\n/**\n * Deals with voting on missions for mission one.\n */\nclass MissionProposalResult extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {}\n    }\n\n    confirm = () => {\n        socket.send(JSON.stringify({type: \"MISSION_PROPOSAL_RESULT_RESPONSE\", id: this.props.id, name: this.props.name\n        }));\n        this.props.hide(this);\n    };\n\n    render() {\n\n        return (\n            <div className={\"MissionProposalResult pop-up\"}>\n                <h2>{this.props.proposedBy}'s mission is {this.props.sent ? \"going\" : \"not going\"}</h2>\n                <div className={\"vote-div\"}>Upvotes: {csv(JSON.parse(this.props.votedFor))}</div>\n                <div className={\"vote-div\"}>Downvotes: {csv(this.props.votedAgainst)}</div>\n                {this.props.hijacked ? <div>Hijacked by {this.props.hijackedBy}. {this.props.hijackRemoved} was\n                    removed from the mission</div> : null}\n\n                <button className={\"large-button proposal-button\"} onClick={this.confirm}>Confirm</button>\n\n            </div>\n\n        );\n    }\n}\n\nexport default MissionProposalResult;\n","import React, { Component } from 'react';\nimport './css/App.scss';\nimport Standard from \"./Standard\"\nimport Switch from 'react-switch'\nimport Live from \"./live/Live.js\";\nimport Rules from \"./Rules\";\nimport {Redirect} from \"react-router-dom\";\nimport Hijack from \"./live/Hijack\";\nimport Agravaine from \"./live/Agravaine\";\nimport MissionOneProposalVoting from \"./live/MissionOneProposalVoting\";\nimport MissionProposalResult from \"./live/MissionProposalResult\";\n\n/**\n * The home screen for the game.\n */\nclass App extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isLiveGame: false,\n            info: false\n        }\n    }\n\n    info = () => {\n        this.setState({info: !this.state.info})\n\n    };\n\n    /**\n     * Renders the app.\n     * @returns {*}\n     */\n  render() {\n      return (\n      <div className=\"App\">\n          <h1> THavalon </h1>\n          <div className={\"live\"}>Live game?</div>\n          <div className={\"switch\"}>\n          <Switch onChange={() => {this.setState({isLiveGame: !this.state.isLiveGame})}} checked={this.state.isLiveGame}/>\n          </div>\n          {this.state.isLiveGame ? <Live/> : <Standard/>\n        }\n          <div className=\"info\">\n              {this.state.info ?\n                  <div className={\"rules_wrapper\"}>\n                      <button id={\"exit_button\"} onClick={this.info}><i className=\"fas fa-times\"></i></button>\n                      <div className={\"rules\"}>\n                          <Rules/>\n                      </div>\n                  </div>: null}\n              <button className={\"info_button\"} onClick={this.info}>?</button>\n          </div>\n      </div>\n\n\n\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from 'react';\nimport \"./css/Player.scss\";\nimport Link from \"react-router-dom/es/Link\";\n\n\n// different types of game ending results\nconst results = [\"Good Wins!\", \"Evil wins on missions!\", \"Evil wins by assassination!\"];\n\nconst dontRecord = \"Don't Record Results!\";\n\n/**\n * Shows different options for how games can end and sends results to server\n */\nclass SubmitResults extends Component {\n\n    make_submitter = (result) => {\n        return () => {\n            this.submit_results(result, true);\n        }\n    };\n\n    submit_results = (result, record) => {\n        const id = this.props.location.state.id;\n        const url = \"/gameover/\" + id;\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n\n            },\n            body: JSON.stringify({\n                result: result,\n                record: record\n            })\n        }).catch(error => {\n            console.log(error);\n        });\n    };\n\n    dont_record_results = () => {\n        this.submit_results(dontRecord, false);\n    };\n\n    render() {\n        let count = 0;\n        return (<div className={\"submitresults\"}>\n            <h1> Submit results for game {this.props.location.state.id} </h1>\n                <ul>\n                    {results.map(ele => {\n                        count ++;\n                        return <li><Link key={count} onClick={this.make_submitter(ele)} to={{pathname: \"/\"}}>\n                                <button className={\"my_button, large_button\"}>\n                                    {ele}\n                                </button>\n                            </Link></li>\n                    })}\n                    <li>\n                        <Link key={count + 1} onClick={this.dont_record_results} to={{pathname: \"/\"}}>\n                            <button className={\"my_button, large_button\"}>\n                                {dontRecord}\n                            </button>\n                        </Link>\n                    </li>\n                </ul>\n\n        </div>);\n    }\n}\n\nexport default SubmitResults;","import React, { Component } from 'react';\nimport \"./css/Game.scss\";\n\nimport { Link } from 'react-router-dom';\nimport SubmitResults from \"./SubmitResults\";\n\nimport { CopyToClipboard}  from 'react-copy-to-clipboard';\n/**\n * Models a game page, with links to each player.\n */\nclass Game extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            game: [],\n            start: \"\"\n        }}\n\n    render_game = () => {\n        const id = this.props.match.params.id;\n        console.log(\"Get Game Info\");\n        const url = \"/game/info/\" + id;\n        fetch(url, {\n            method: \"GET\"\n        }).then(response => {\n                return response.json();\n            }) .then (data => {\n            console.log(\"Response\");\n            console.log(data);\n            if(data.length === 0) {\n                // invalid id, redirect to homepage\n                window.location.href = \"/\";\n            } else {\n                // found id, just do lookup\n                this.setState({game: data, start: data[0].name});\n                return data;\n            }\n\n        }).catch(error => {\n            console.log(error);\n        });\n    };\n\n\n    componentWillMount() {\n        this.props.history.push(\"\");\n        this.props.history.push(this.props.location);\n\n        this.render_game();\n    }\n\n\n    render() {\n        let count = 0;\n        console.log(this.props.location);\n        return ( <div className=\"names\">\n                <h3>Game ID: {this.props.match.params.id} </h3>\n                <CopyToClipboard id={\"copy\"} text={window.location.href}>\n                    <button className={\"small-button\"} id={\"copy_button\"}>Copy</button>\n                </CopyToClipboard>\n                <h3> Starting Player: {this.state.start} </h3>\n\n                {this.state.game.map(curr =>\n                {\n                    const path = this.props.location.pathname + \"/\" + curr.name;\n                    count++;\n                    return (<Link key={count} to={{pathname: path, state: {name: curr.name, role: curr.role,\n                        role_info: curr.information, description: curr.description}}}>\n                        <button className={\"large-button\"}><span>{curr.name}</span></button>\n                    </Link>);\n                })}\n                <Link to={{pathname: this.props.location.pathname + \"/game/donotopen\", state: {game: this.state.game}}}>\n                    <button className={\"large-button\"}>Do Not Open</button>\n                </Link>\n                <Link to={{pathname: \"/submitresults\", state: {id: this.props.match.params.id}}}>\n                    <button className={\"large-button\"}>Submit Game Results</button>\n                </Link>\n            </div>\n\n        );\n    }\n}\n\nexport default Game;\n","import React, { Component } from 'react';\nimport \"../css/Board.scss\"\nimport {csv} from \"./ProposalVoting\";\n\nclass Mission extends Component {\n\n    constructor(props) {\n        super(props);\n\n    }\n\n    render() {\n        return (\n            <div className={\"Mission pop-up\"}>\n                <button className={\"close-button\"} onClick={this.props.hide}><i className=\"fas fa-times\"></i> </button>\n                <h2>Mission {this.props.num}</h2>\n                <div className={\"mission-info\"}>On mission: {csv(this.props.onMission)}</div>\n                <div className={\"mission-info\"}>Result: {this.props.result} </div>\n                <div className={\"mission-info\"}>Cards played: {csv(this.props.cardsPlayed)}</div>\n\n                <div className={\"mission-info\"}>Proposed by: {this.props.proposedBy} </div>\n                <div className={\"mission-info\"}>Voted For: {csv(JSON.parse(this.props.votedFor))} </div>\n                <div className={\"mission-info\"}>Voted Against: {csv(this.props.votedAgainst)} </div>\n\n\n            </div>\n        );\n    }\n}\n\n\nexport default Mission;","import React, { Component } from 'react';\nimport \"../css/Board.scss\"\n\nclass PlayerList extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            players: this.props.players.map(ele => {return {name: ele, selected: false}})\n            , curr: 0\n        };\n        console.log(this.state);\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        console.log(\"player list will recieve props\");\n        console.log(nextProps);\n        console.log(nextContext);\n        this.setState({\n            players: nextProps.players.map(ele => {\n                return {name: ele, selected: false}\n            })\n        });\n        if (this.state.players.length > 0) {\n            let players = this.state.players;\n            let newPlayer = {name: players[0].name, selected: true};\n            players.splice(0, 1, newPlayer);\n            this.setState({curr: 0, players: players});\n\n\n\n            // this.next();\n        }\n\n\n        this.forceUpdate();\n\n    }\n\n    next = () => {\n        console.log(\"here\");\n        console.log(this.state);\n\n        let players = this.state.players;\n        let currPlayer = players[this.state.curr];\n\n        let newPlayer = {name: currPlayer.name, selected: false};\n\n        players.splice(this.state.curr, 1, newPlayer);\n\n        const curr = this.state.curr === players.length - 1 ? 0 : this.state.curr + 1;\n        newPlayer = {name: players[curr].name, selected: true};\n        players.splice(curr, 1, newPlayer);\n        this.setState({curr: curr, players: players});\n\n    };\n\n    render() {\n        return (\n            <div className={\"PlayerList\"}>\n                <div className={\"player-list-ele\"}> Proposal Order: </div>\n                    {this.state.players.map(ele => {\n                    const selected = ele.selected ? \"selected-list\" : \"\";\n                    return (\n                        <div className={\"player-list-ele \" + selected}>\n                            {ele.name}\n                        </div>)\n\n                })}\n            </div>\n\n        );\n    }\n}\n\n\nexport default PlayerList;","import React, { Component } from 'react';\nimport '../css/Board.scss';\n\n\nclass LivePlayerInfo extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(this.props.info);\n        this.state =  {\n            name: this.props.info.name,\n            role: this.props.info.role,\n            role_info: this.props.info.information,\n            description: this.props.info.description\n        };\n    }\n\n    parseInfo = (info) => {\n        console.log(info);\n        let res = [];\n        // collect all information arrays into one 2d array\n        Object.keys(info).forEach((key) => {\n            res.push(info[key]);\n        });\n        console.log(res);\n\n        return res.flat();\n    };\n\n    render() {\n        return ( <div className={\"LivePlayerInfo pop-up\"}>\n                <button className={\"close-button\"} onClick={() => this.props.hide(this)}>\n                    <i className=\"fas fa-times\"></i></button>\n                <h2 className={\"player-title\"}>You are {this.state.role}</h2>\n                <div className={\"description\"}>\n                    {this.state.description}\n                </div>\n\n                <div className={\"info\"}>\n                    {this.parseInfo(JSON.parse(this.state.role_info))}\n                </div>\n                <ul>\n                </ul>\n            </div>\n\n        );\n    }\n}\n\nexport default LivePlayerInfo;\n","import React, {Component} from 'react';\nimport \"../css/Proposal.scss\"\nimport {socket} from \"../index.js\";\n\n/**\n * Models the tag representing a player. Expects a String name prop, and a change handler.\n */\nclass Proposal extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            players: this.props.players.map(ele => {\n                return {name: ele, selected: false}\n            }),\n            selected: [],\n            error: \"\"\n        }\n    }\n\n    /**\n     * Deselects a player if they are already selected, otherwise seletcts them if possible\n     * @param ele\n     */\n    toggleSelected = (ele) => {\n        if (ele.selected) {\n            ele.selected = false;\n        } else {\n            let selected = 0;\n            this.state.players.forEach(ele => {\n                if (ele.selected) {\n                    selected++;\n                }\n            });\n            if (selected === this.props.num) {\n                return;\n            } else {\n                ele.selected = true;\n            }\n\n        }\n        this.forceUpdate();\n    };\n\n\n    sendProposal = () => {\n        console.log(this.props.id);\n        const proposal = this.state.players.filter(ele => ele.selected).map(ele => ele.name);\n        if (proposal.length !== this.props.num) {\n            this.setState({error: \"Not enough players selected\"});\n            return;\n        }\n        console.log(proposal);\n        const type = this.props.missionOne ? \"MISSION_ONE_PROPOSAL_RESPONSE\" : \"MISSION_PROPOSAL_RESPONSE\";\n\n        socket.send(JSON.stringify({type: type, proposal: proposal,  id: this.props.id, name: this.props.name\n        }));\n        this.props.close(this);\n    };\n\n    render() {\n        return (\n            <div className={\"Proposal pop-up\"}>\n                <button className={\"close-button\"} onClick={() => this.props.hide()}>\n                    <i className=\"fas fa-times\"></i>\n                </button>\n                <div className={\"player-list\"}>\n                    {this.state.players.map(ele => {\n                        const selected = ele.selected ? \"selected\" : \"\";\n                        return (\n                            <div className={\"player-wrapper\"}>\n                                <div className={\"proposal-player \" + selected} onClick={() => this.toggleSelected(ele)}>\n                                    <div className={\"player-text\"}> {ele.name} </div>\n                                </div>\n                            </div>)\n                    })}\n                </div>\n                <div className={\"error\"}>{this.state.error}</div>\n                <button className={\"large-button\"} id={\"proposal-confirm\"} onClick={this.sendProposal}>Confirm</button>\n            </div>\n\n        );\n    }\n}\n\nexport default Proposal;","import React, { Component } from 'react';\nimport \"../css/Voting.scss\";\nimport \"../css/Board.scss\";\nimport {socket} from \"../index.js\";\n\n\nclass Voting extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            canFail: true,\n            canReverse: true,\n            passSelected: false,\n            failSelected: false,\n            reverseSelected: false,\n        }\n    }\n\n    togglePass = () => {\n        this.setState({passSelected: !this.state.passSelected, failSelected: false, reverseSelected: false})\n    };\n\n    toggleFail = () => {\n        this.setState({failSelected: !this.state.failSelected, passSelected: false, reverseSelected: false})\n    };\n\n    toggleReverse = () => {\n        this.setState({reverseSelected: !this.state.reverseSelected, passSelected: false, failSelected: false})\n    };\n\n    vote = () => {\n        let card;\n        if (this.state.reverseSelected) {\n            card = \"R\";\n        } else if (this.state.failSelected) {\n            card = \"F\";\n        } else if (this.state.passSelected) {\n            card = \"P\";\n        } else {\n            return;\n        }\n        socket.send(JSON.stringify({type: \"PLAY_CARD_RESPONSE\",\n            card: card,\n            id: this.props .id,\n            name:this.props.name\n        }));\n        this.props.hide(this);\n    };\n\n\n    render() {\n\n        let passClasses = this.state.passSelected ? \"selected\": \"\";\n        passClasses = \"card pass \" + passClasses;\n\n        let failClasses = this.state.failSelected ? \"selected\": \"\";\n        failClasses = \"card fail \" + failClasses;\n\n        let reverseClasses = this.state.reverseSelected ? \"selected\": \"\";\n        reverseClasses = \"card reverse \" + reverseClasses;\n        return (\n\n            <div className={\"Voting\"}>\n                <button className={\"close-button\"}><i className=\"fas fa-times\"></i></button>\n                <div className={\"card-wrapper\"}>\n                <div className={passClasses} onClick={this.togglePass} >\n                    <div className={\"card-content\"}> Pass </div>\n                </div>\n                {this.props.canFail ?\n                    <div className={failClasses} onClick={this.toggleFail}>\n\n                        <div className={\"card-content\"}> Fail </div>\n\n                    </div> : null}\n                {this.props.canReverse ?\n                    <div className={reverseClasses} onClick={this.toggleReverse}>\n                        <div className={\"card-content\"}> Reverse </div>\n\n                    </div> : null}\n                </div>\n\n                <button id={\"confirm\"} className={\"large-button\"} onClick={this.vote}>Confirm</button>\n            </div>\n\n        );\n    }\n}\n\nexport default Voting;","import React, {Component} from 'react';\nimport \"../css/Proposal.scss\"\nimport {socket} from \"../index\";\n\nclass Assassinate extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            type: null,\n            next: false,\n            players: this.props.targets.map((ele => {\n                return {name: ele, selected: false}\n            }))\n        }\n    }\n\n\n    next = (type) => {\n        this.setState({type: type, next: true})\n\n    };\n\n    select = (ele) => {\n        if (ele.selected) {\n            ele.selected = false;\n        } else {\n            let selected = 0;\n            this.state.players.forEach(ele => {\n                if (ele.selected) {\n                    selected++;\n                }\n            });\n            if (selected === this.state.type) {\n                return;\n            } else {\n                ele.selected = true;\n            }\n        }\n\n    };\n\n    assasinate = () => {\n        let type;\n        const targets = [];\n        switch (this.state.type) {\n            case 0:\n                type = \"no_targets\";\n                break;\n            case 1:\n                type = \"merlin\";\n                break;\n            case 2:\n                type = \"lovers\";\n                break;\n\n        }\n        this.state.players.forEach(ele => {\n            if (ele.selected) {\n                targets.push(ele);\n            }\n        });\n\n        socket.send(JSON.stringify({\n            type: \"ASSASSINATE_RESPONSE\",\n            assassination_type: type,\n            targets: targets,\n            id: this.props.match.params.id,\n            name: this.props.name\n\n\n        }));\n        this.props.hide(this);\n    };\n\n    render() {\n\n        return (\n            <div className={\"Assassinate pop-up\"}>\n                {this.state.next ?\n                    <div>\n                        Good has passed three missions. You now have the chance to assassinate.\n                        Which role would you like to assassinate?\n\n                        <button className={\"proposal-button assasinate-button\"}\n                                onClick={() => this.next(1)}>Merlin</button>\n                        <button className={\"proposal-button assasinate-button\"} onClick={() => this.next(2)}>Lovers\n                        </button>\n                        <button className={\"proposal-button assasinate-button\"} onClick={() => this.next(0)}>No\n                            Assassinable Targets\n                        </button>\n\n                    </div> :\n                    <div>\n                        {this.state.type === 1 ? <h2>You are assassinating a player as Merlin. Select your target</h2>\n                            : <h2>You are assassinating Loves. Select your targets</h2>}\n                        <div className={\"player-list\"}>\n                            {this.state.players.map(ele => {\n                                const selected = ele.selected ? \"selected\" : \"\";\n                                return (\n                                    <div className={\"player-wrapper\"}>\n                                        <div className={\"proposal-player \" + selected} onClick={() => this.select(ele)}>\n                                            <div className={\"player-text\"}> {ele.name} </div>\n                                        </div>\n                                    </div>)\n                            })}\n\n                        </div>\n                        <button onClick={this.assasinate}>Confirm</button>\n                    </div>}\n\n            </div>\n\n        );\n    }\n}\n\nexport default Assassinate;\n","import React, {Component} from 'react';\nimport '../css/Board.scss';\nimport Mission from \"./Mission\";\nimport PlayerList from \"./PlayerList\";\nimport LivePlayerInfo from \"./LivePlayerInfo\";\nimport Proposal from \"./Proposal\";\nimport ProposalVoting from \"./ProposalVoting\";\nimport Voting from \"./Voting\";\nimport {socket} from \"../index.js\";\nimport MissionOneProposalVoting from \"./MissionOneProposalVoting\";\nimport MissionProposalResult from \"./MissionProposalResult\";\nimport Agravaine from \"./Agravaine\";\nimport Hijack from \"./Hijack\";\nimport {Link} from \"react-router-dom\";\nimport Assassinate from \"./Assassinate\";\nimport {send} from \"q\";\n\n/**\n * Models a boards\n */\nclass Board extends Component {\n    constructor(props) {\n        super(props);\n        console.log(this.props.location.state.name);\n        this.state = {\n            missions: [],\n            options: [\"unsent\", \"passed\", \"failed\"],\n            popup: null,\n            game: [],\n            currMission: 0,\n            redirect: \"\",\n            players: [],\n            proposal: null,\n            currProposal: 0,\n            assassinate: null,\n            info: null,\n            mission1: null,\n            mission2: null,\n        };\n\n        this.playerList = React.createRef();\n\n    }\n\n    componentDidMount() {\n        this.renderGame();\n    }\n\n    //sets up socket listeners\n    setupSocket = () => {\n\n        socket.addEventListener(\"message\", (message) => {\n            console.log(\"in board event handler\");\n            console.log(message.data);\n            const parsed = JSON.parse(message.data);\n            switch (parsed.type) {\n                case \"MISSION_ONE_PROPOSAL\":\n                    this.setState({\n                        proposal: <Proposal\n                            id={this.props.match.params.id}\n                            name={this.props.location.state.name}\n                            players={this.state.players}\n                            missionOne={true}\n                            num={this.state.missions[0].num}\n                            hide={this.hide}\n                            close={this.closeProposal}/>\n                    });\n                    break;\n                case \"MISSION_ONE_VOTING\":\n                    console.log(parsed);\n                    this.setState({\n                        popup: <MissionOneProposalVoting\n                            id={this.props.match.params.id}\n                            name={this.props.location.state.name}\n                            firstProposal={parsed.first_proposal}\n                            secondProposal={parsed.second_proposal}\n                            hide={this.hide}\n                        />,\n                        mission1: parsed.first_proposal,\n                        mission2: parsed.second_proposal\n                    });\n                    break;\n                case \"MISSION_ONE_VOTING_RESULT\":\n                    this.state.missions[0].votedFor = parsed.voted_sent;\n                    this.state.missions[0].proposedBy = (parsed.sent === this.state.mission1) ?\n                        this.state.players[this.state.players.length - 2] :\n                        this.state.players[this.state.players.length - 1] ;\n                    console.log(parsed.proposed_by);\n                    this.setState({\n\n                        popup:\n                            <MissionProposalResult\n                                name={this.props.location.state.name}\n                                sent={parsed.sent}\n                                votedFor={parsed.voted_sent}\n                                votedAgainst={JSON.parse(parsed.voted_not_sent)}\n                                proposedBy={this.state.missions[0].proposedBy}\n                                notSent={parsed.not_sent}\n                                hide={this.hide}\n                                id={this.props.match.params.id}\n\n                            />\n                    });\n                    this.setState(\n                        {\n                            currMission: 1,\n                        });\n                    break;\n                case \"MISSION_PROPOSAL\":\n                    this.setState({\n                        proposal:\n                            <Proposal\n                                id={this.props.match.params.id}\n                                players={this.state.players}\n                                name={this.props.location.state.name}\n                                missionOne={false}\n                                num={this.state.missions[this.state.currMission].num}\n                                hide={this.hide}\n                                close={this.closeProposal}\n                            />\n                    });\n                    break;\n                case \"MISSION_PROPOSAL_RESULT\": case \"MISSION_VOTING_RESULT\":\n                    const hijacked = parsed.hasOwnProperty(\"hijack\");\n                    let hijackedBy = \"\";\n                    let hijackRemoved = \"\";\n                    if (hijacked) {\n                        hijackedBy = parsed.hijacked_by;\n                        hijackRemoved = parsed.hijack_removed;\n                    }\n                    if (this.playerList.current) {\n                        this.playerList.current.next();\n                    }\n                    this.state.missions[parsed.num].votedFor = parsed.voted_for;\n                    this.state.missions[parsed.num].proposedBy = parsed.proposed_by;\n\n                    this.setState({\n\n                        popup:\n                            <MissionProposalResult\n\n                                name={this.props.location.state.name}\n                                sent={parsed.sent}\n                                votedFor={parsed.voted_for}\n                                votedAgainst={this.state.players.filter(ele => !parsed.voted_for.includes(ele))}\n                                hide={this.hide}\n                                hijacked={hijacked}\n                                hijackedBy={hijackedBy}\n                                hijackRemoved={hijackRemoved}\n\n                            />, currProposal: this.state.currProposal + 1\n\n                    });\n\n                    this.playerList.current.next();\n                    break;\n                case \"MISSION_VOTING\":\n                    this.setState({popup: <ProposalVoting id={this.props.match.params.id} name={this.props.location.state.name}\n                                                                                     players={parsed.proposal} hide={this.hide}/>});\n                    break;\n                case \"PLAY_CARD\":\n                    console.log(\"play card\");\n                    const cards = JSON.parse(parsed.cards);\n                    console.log(cards);\n                    console.log(typeof cards);\n                    this.setState({\n                        popup: <Voting\n                            id={this.props.match.params.id}\n                            name={this.props.location.state.name}\n                            canReverse={cards.includes(\"R\")}\n                            canFail={cards.includes(\"F\")}\n                            hide={this.hide}/>\n                    });\n                    break;\n                case \"MISSION_RESULT\":\n                    const missions = this.state.missions;\n                    missions[parsed.num-1].passed = (parsed.result) ? 1 : 2;\n                    const cardsPlayed = JSON.parse(parsed.cards);\n                    missions[parsed.num-1].mission = <Mission\n\n                        hide={this.hide}\n                        num={parsed.num}\n                        onMission={[parsed.players-1]}\n                        result={(parsed.result) ? \"Passed\" : \"Failed\"}\n                        cardsPlayed={cardsPlayed.map(ele => {\n                            switch (ele) {\n                                case \"P\":\n                                    return \"Pass\";\n                                case \"F\":\n                                    return \"Fail\";\n                                case \"R\":\n                                    return \"Reverse\";\n                                default:\n                                    return \"\";\n                            }\n                        })}\n                        proposedBy={missions[parsed.num-1].proposedBy}\n                        votedFor={missions[parsed.num-1].votedFor}\n                        votedAgainst={this.state.players.filter(ele => !missions[parsed.num-1].votedFor.includes(ele))}\n                    />;\n                    console.log(missions);\n                    this.setState(\n                        {\n                            currMission: parsed.num,\n                            missions: missions,\n                            popup: missions[parsed.num - 1].mission\n                        });\n                    break;\n                case \"HIJACK\":\n                    this.setState({popup: <Hijack id={this.props.match.params.id} name={this.props.location.state.name}\n                                                                              hide={this.hide}/>});\n                    break;\n                case \"AGRAVAINE\":\n                    this.setState({popup: <Agravaine id={this.props.match.params.id} name={this.props.location.state.name}\n                                                                                 hide={this.hide}/>});\n                    break;\n                case \"ASSASSINATE\":\n                    this.setState({assassinate: <Assassinate id={this.props.match.params.id}  name={this.props.location.state.name}\n                                                                                         targets={parsed.targets} hide={this.hide}/>});\n                    break;\n                case \"GAME RESULTS\":\n                    const popup = <div className={\"GameResults pop-up\"}>\n                        <h2>Game Results</h2>\n                        {parsed.result};\n                        <Link to={{path: \"/\"}}/>\n                    </div>;\n                    this.togglePopup(popup);\n                    this.forceUpdate();\n                    break;\n                default:\n                    break;\n            }\n        });\n\n    };\n\n    // retrieves the player info for this game\n    renderGame = () => {\n        const id = this.props.match.params.id;\n        console.log(\"Get Game Info\");\n        const url = \"/game/info/\" + id;\n        fetch(url, {\n            method: \"GET\"\n        }).then(response => {\n            return response.json();\n        }).then(data => {\n            console.log(data);\n            if (data.length === 0) {\n                console.error(\"Error retrieving game data from server\");\n            } else {\n                //determines state variables from data\n\n                const players = data.map(ele => ele.name);\n                let missions = [];\n                switch (players.length) {\n                    case 5:\n                        missions = [2, 3, 2, 3, 3];\n                        break;\n                    case 7:\n                        missions = [2, 3, 3, 4, 4];\n                        break;\n                    case 8:\n                    case 10:\n                        missions = [3, 4, 4, 5, 5];\n                        break;\n                    default:\n                        break;\n                }\n                console.log(players);\n                this.setState({\n                    game: data,\n                    players: players,\n                    missions: missions.map(ele => {\n                        return {\n                            num: ele,\n                            passed: 0,\n                            mission: null\n                        }\n                    }),\n                    info: data.filter(ele => ele.name === this.props.location.state.name)[0]\n                });\n\n                console.log(this.state);\n                this.forceUpdate();\n\n                this.setupSocket();\n                 // once the handler is set up and we've gotten all our info we send ready message\n                const msg = {\n                    type: \"READY\",\n                    id: this.props.match.params.id,\n                    name: this.props.location.state.name\n                };\n                socket.send(JSON.stringify(msg));\n\n\n                return data;\n            }\n\n\n        }).catch(error => {\n            console.error(error);\n        });\n\n\n    };\n\n\n    onClickHandler = (ele) => {\n        ele.passed = ele.passed === 3 ? 1 : ele.passed + 1;\n        console.log(ele);\n        this.forceUpdate();\n    };\n\n    //only ever one popup at a time, stored as a JSX element in state\n    togglePopup = (ele) => {\n        console.log(\"Toggle Popup\");\n        console.log(ele);\n        console.log(this.state.popup);\n\n        if (this.state.popup !== null && this.state.popup.type === ele.type) {\n            this.setState({popup: null});\n        } else {\n            this.setState({popup: ele});\n        }\n    };\n\n    hide = () => {\n        console.log(\"hide\");\n        this.setState({popup: null});\n\n    };\n\n    closeProposal = () => {\n        this.setState({popup: null, proposal: null});\n\n    };\n\n    render() {\n        console.log(this.state);\n\n        return (\n\n            <div className={\"Board\"}>\n                {this.state.popup}\n                {this.state.info ?\n                    <div className={\"name\"} onClick={() => this.togglePopup(<LivePlayerInfo hide={this.hide}\n                                                                                            info={this.state.info}/>)}>\n                        {this.props.location.state.name}\n                    </div> : null}\n\n                <div className={\"proposal-order\"}>\n                    <PlayerList players={this.state.players} ref={this.playerList}/>\n                    {this.state.proposal ?\n                        <button className={\"propose-button large-button\"}\n                                onClick={() => this.togglePopup(this.state.proposal)}>\n                            Propose\n                        </button> : null}\n                    {this.state.assassinate ?\n                        <button className={\"propose-button large-button\"}\n                                onClick={() => this.togglePopup(this.state.assassinate)}>\n                            Assassinate\n                        </button> : null}\n\n                </div>\n                <div className={\"missions\"}>\n                    {this.state.missions.map(ele => {\n                        const classname = this.state.options[ele.passed] + \" mission\";\n                        console.log(classname);\n                        return (<div className={classname}\n                                     onClick={() => this.togglePopup(this.state.missions[ele.num].mission)}>\n                            <div className={\"num\"}> {ele.num}</div>\n                        </div>);\n                    })}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Board;","import React, { Component } from 'react';\nimport \"./css/Player.scss\";\n\n/**\n * Models a game page, with links to each player.\n */\nclass DoNotOpen extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false,\n            text: \"Show\"\n        }\n    }\n\n    /**\n     * Parses the information array for each player.\n     * @param ele\n     * @returns {*[]}\n     */\n    parseInfo = (ele) => {\n        const info = JSON.parse(ele);\n        console.log(info);\n        let res = [];\n        // collect all information arrays into one 2d array\n        Object.keys(info).forEach((key) => {\n            res.push(info[key]);\n        });\n        console.log(res);\n\n        return res.flat().map(ele => {\n            return <div>{ele}</div>\n            }\n        );\n\n    };\n\n    open = () => {\n        this.setState({open: !this.state.open, text: this.state.open ? \"Show\" : \"Hide\"});\n    };\n\n    render() {\n        return (<div className={\"donotopen\"}>\n            <h1> Do Not Open </h1>\n            <button className={\"my_button, large_button\"} id={\"show_button\"} onClick={this.open}>{this.state.text}</button>\n            {this.state.open ?\n                <ul className={\"donotopen_list\"}>\n                    {this.props.location.state.game.map(ele => {\n                        return <li><span className={\"name\"}>{ele.name}</span> is {ele.role}, seeing: {this.parseInfo(ele.information)}</li>\n                    })}\n                </ul> : null\n                }\n\n        </div>);\n    }\n}\n\nexport default DoNotOpen;","import React, { Component } from 'react';\nimport '../css/App.scss';\nimport {socket} from \"../index.js\"\nimport PlayerTag from \"../PlayerTag\";\nimport Options from \"../Options\";\nimport {Redirect} from \"react-router-dom\";\n\n/**\n * Models the tag representing a player. Expects a String name prop, and a change handler.\n */\nclass Lobby extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(props);\n        console.log(this.props.location.state);\n        console.log(\"lobby\");\n        const roles =  [\n            {key: \"Arthur\", value: true},\n            {key: \"Galahad\", value: false},\n            {key: \"Lancelot\", value: true},\n            {key: \"Percival\", value: true},\n            {key: \"Lone Percival\", value: false},\n            {key: \"Guinevere\", value: true},\n            {key: \"Merlin\", value: true},\n            {key: \"Titania\", value: true},\n            {key: \"Nimue\", value: false},\n            {key: \"Gawain\", value: false},\n            {key: \"Lovers\", value: true},\n            {key: \"Lone Lovers\", value: false},\n            {key: \"Mordred\", value: true},\n            {key: \"Morgana\", value: true},\n            {key: \"Maelegant\", value: true},\n            {key: \"Oberon\", value: true},\n            {key: \"Agravaine\", value: true},\n            {key: \"Colgrevance\", value: true},\n            {key: \"Duplicate Roles\", value: false}\n\n\n        ];\n\n        this.state = {\n            names: this.props.location.state.names,\n            showOptions: false,\n            roles: roles,\n            redirect: \"\",\n            error: \"\"\n        }\n    }\n\n\n    componentDidMount() {\n\n        socket.addEventListener(\"message\", (message) => {\n            const parsed = JSON.parse(message.data);\n            switch (parsed.type) {\n                case \"NEW_PLAYER\":\n                    console.log(\"new player\");\n                    console.log(parsed.name);\n                    this.setState({names: this.state.names.concat(parsed.name)});\n                    break;\n                case \"PLAYER_REMOVED\":\n                    console.log(\"remove player\");\n                    this.removePlayer(parsed.name);\n                    break;\n                case \"SELF_REMOVED\":\n                    // this player in question has been removed\n                    console.log(\"self removed\");\n                    this.setState({redirect: <Redirect to=\"/\"/>});\n                    break;\n                case \"GAME_STARTED\":\n                    // game is rolled, redirect to board\n                    console.log(\"game started\");\n                    this.setState({redirect: <Redirect to={{pathname: \"/\" + parsed.id + \"/board\", state: {name: this.props.location.state.name}}}/>});\n                    break;\n                case \"ERROR\":\n                    console.log(\"error\");\n                    this.setState({error: parsed.error});\n                    break;\n                default:\n                    break;\n            }\n\n            // socket.send(JSON.stringify(\"message recieved\"));\n        });\n    }\n\n    onRemoveHandler = (name) => {\n        if(name === this.props.location.state.creator) {\n            // lobby owner tried to remove themselves, delete lobby\n            this.deleteLobby()\n        } else {\n            this.removePlayer(name);\n            socket.send(\n                JSON.stringify({\n                    type: \"REMOVE_PLAYER\",\n                    name: name,\n                    id: this.props.match.params.id\n                })\n            )\n        }\n\n    };\n\n    deleteLobby = () => {\n        socket.send(\n            JSON.stringify({\n                type: \"DELETE_LOBBY\",\n                id: this.props.match.params.id\n            })\n        )\n    };\n\n    removePlayer = (name) => {\n        const names = this.state.names.filter(ele => ele !== name);\n        this.setState({names: names});\n    };\n\n    optionsSubmit = () => {\n\n    };\n\n     /**\n     * Redirects to a new game (not custom)\n     */\n    postToGame = () => {\n        let startGameData = {\n            type: \"START_GAME\",\n            id: this.props.match.params.id,\n            names: this.state.names\n        };\n        socket.send(JSON.stringify(startGameData));\n    };\n\n    render() {\n        console.log(\"lobby\");\n        console.log(this.state);\n        console.log(this.props);\n        return (\n            <div className={\"Lobby\"}>\n                {this.state.redirect}\n                <Options options={this.state.roles} display={this.state.showOptions} submit={this.optionsSubmit}/>\n\n                <h1>Lobby {this.props.match.params.id}</h1>\n                {this.props.location.state.isCreator ?\n                    <div id={\"lobby-owner-view\"}>\n                        <h2>Players in Lobby</h2>\n                        <div className={\"player-tag-container\"}>\n                        {this.state.names.map(ele => {\n                            return <PlayerTag name={ele} change={() => this.onRemoveHandler(ele)}/>\n                        })}\n                        </div>\n                        <button  className={\"large-button lobby-button\"} onClick={() => {this.setState({showOptions: !this.state.showOptions})}}>Game options</button>\n\n                        <button className={\"large-button lobby-button\"} onClick={this.deleteLobby}>Destroy Lobby</button>\n\n                        <button className={\"large-button lobby-button\"} onClick={this.postToGame}>Start Game</button>\n\n\n\n                    </div>:\n                    <div id={\"lobby-view\"}>\n                        <h2>Players in Lobby</h2>\n                        <div className={\"player-tag-container\"}>\n\n                        {this.state.names.map(ele => {\n                            return <div className={\"live-player-tag\"}> {ele}</div>\n                        })}\n                        </div>\n                        <button className={\"large-button lobby-button\"}>Leave Lobby</button>\n\n                    </div>}\n                 <div className={\"error\"}>{this.state.error}</div>\n            </div>\n\n        );\n    }\n}\n\nexport default Lobby;","import React, { Component } from 'react';\nimport './css/App.scss';\nimport './css/Player.scss';\n\n/**\n * Models the player page. Expects three props: name, which is the name of the player, role, which is\n * the role the game has assigned the player, and role_info, which is the information and text associated\n * with the role.\n\n */\nclass Player extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {info: this.parseInfo()};\n    }\n\n    parseInfo = () => {\n        const info = JSON.parse(this.props.location.state.role_info);\n        console.log(info);\n        let res = [];\n        // collect all information arrays into one 2d array\n        Object.keys(info).forEach((key) => {\n            res.push(info[key]);\n        });\n        console.log(res);\n\n        return res.flat();\n    };\n\n    render() {\n        return ( <div className={\"player_info\"}>\n                <h1 className={\"player_title\"}> Displaying information for {this.props.location.state.name} </h1>\n                <h2>You are {this.props.location.state.role}</h2>\n                <div className={\"description\"}>\n                    {this.props.location.state.description.split(\"\\n\").map((i,key) => {\n                        return <div key={key}>{i} <br></br></div>;\n                    })}\n                </div>\n                <ul>\n                    {this.state.info.map(function(ele) {\n                        return <li>{ele}</li>;\n                    })}\n                </ul>\n            </div>\n\n        );\n    }\n}\n\nexport default Player;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./css/index.scss\";\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Game from './Game.js';\nimport Board from './live/Board.js';\nimport DoNotOpen from './DoNotOpen.js';\nimport Lobby from './live/Lobby.js';\nimport Player from './Player.js';\nimport Voting from './live/Voting.js';\n\n\nimport * as serviceWorker from './serviceWorker';\nimport SubmitResults from \"./SubmitResults\";\nimport Proposal from \"./live/Proposal\";\nimport ProposalVoting from \"./live/ProposalVoting\";\nimport PlayerList from \"./live/PlayerList\";\n\nlet socket  = new WebSocket(\"ws://localhost:4444/socket\");\nconsole.log(socket);\n\nReactDOM.render(<BrowserRouter>\n    <Switch>\n        <Route exact path='/' component={App} />\n        <Route exact path='/live/:id' component={Lobby} />\n        <Route exact path='/board' component={Board} />\n\n        <Route exact path='/voting' component={Voting} />\n        <Route exact path='/proposal' component={Proposal} />\n        <Route exact path='/proposalvoting' component={ProposalVoting} />\n        <Route exact path='/playerlist' component={PlayerList} />\n\n        <Route exact path='/submitresults' component={SubmitResults}/>\n        <Route exact path='/:id' component={Game} />\n        <Route exact path='/:id/game/donotopen' component={DoNotOpen} />\n\n        <Route exact path='/:id/board' component={Board} />\n        <Route exact path='/:id/:name' component={Player} />\n\n\n    </Switch>\n</BrowserRouter>, document.getElementById('root'));\n\nexport {socket};\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n\n"],"sourceRoot":""}