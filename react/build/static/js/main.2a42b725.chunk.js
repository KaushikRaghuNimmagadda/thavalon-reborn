(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,function(e,t,a){e.exports=a(48)},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,function(e,t,a){},,,,function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(23),r=a.n(o),l=a(2),i=a(3),c=a(6),m=a(4),p=a(5),u=(a(13),a(50)),d=a(20),h=(a(16),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={gameIds:[]},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/currentgames",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({numGames:5})}).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({gameIds:t})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=0;return s.a.createElement("div",{className:"recentgames"},s.a.createElement("ul",{className:"recentgameslist"},this.state.gameIds.map(function(t){e++;var a="/"+t;return s.a.createElement("li",null,s.a.createElement(d.a,{key:e,to:{pathname:a}},s.a.createElement("button",{className:"large-button"},t)))})))}}]),t}(n.Component)),v=(a(33),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=0;return s.a.createElement("div",{className:"options_wrapper"},this.props.display?s.a.createElement("div",{className:"options"},s.a.createElement("form",{className:"option_form",onSubmit:function(t){return e.props.submit(t)}},s.a.createElement("div",{className:"checks"},this.props.options.map(function(e){return t++,s.a.createElement("div",{key:t,className:"option_ele"},s.a.createElement("label",{className:"label"},s.a.createElement("input",{className:"check slider",type:"checkbox",name:e.key,defaultChecked:e.value}),e.key))})),s.a.createElement("input",{className:"options_submit",type:"submit",value:"Done"})),"  "):null)}}]),t}(n.Component)),f=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"player-tag-wrapper"},s.a.createElement("button",{className:"close_button",onClick:this.props.change},"X"),s.a.createElement("p",{className:"player_name"},s.a.createElement("span",{className:"name-tag"}," ",this.props.name," ")))}}]),t}(n.Component),b=(a(34),a(35),function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).options=function(){a.setState({options:!a.state.options})},a.optionsSubmit=function(e){e.preventDefault();for(var t=a.state.roles,n=0;n<e.target.length-1;n++)t[n]={key:e.target[n].name,value:e.target[n].checked};a.setState({options:!a.state.options,roles:t})},a.showInputs=function(){a.setState({input:!a.state.input})},a.join=function(){a.setState({join:!a.state.join})},a.namesContainValidChars=function(e){for(var t in"/?#\\."){var a="/?#\\."[t];if(e.includes(a))return!1}return!0},a.isDuplicateName=function(e){for(var t in e=e.trim(),a.state.players)if(a.state.players[t].name.trim()===e)return!0;return!1},a.playerSubmit=function(e){e.preventDefault();var t=e.target[0].value;if(document.getElementById("player-name-input").reset(),a.setState({error:""}),""!==t)if(a.namesContainValidChars(t))if(a.isDuplicateName(t))a.setState({error:"Duplicate names are not allowed."});else if(t.length>30)a.setState({error:"Names must not be longer than 30 characters"});else{var n=a.state.players;a.setState({player_key:a.state.player_key+1});var o=a.state.player_key;n.push({key:a.state.player_key,name:t,value:s.a.createElement(f,{key:a.state.player_key,change:function(){return a.removePlayer(o)},name:t})}),a.setState({players:n})}else a.setState({error:"Name contains invalid characters."})},a.removePlayer=function(e){var t,n=a.state.players;for(t=0;t<n.length&&n[t].key!==e;t++);n.splice(t,1),a.setState({players:n})},a.sendGamePost=function(e){fetch("/names",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){if(e.hasOwnProperty("error"))a.setState({error:e.error});else{var t=s.a.createElement(u.a,{to:{pathname:"/"+e.id}});a.setState({redirect:t})}}).catch(function(e){console.log(e)})},a.postToGame=function(){var e={names:a.names()};a.sendGamePost(e)},a.postToCustomGame=function(){var e={};for(var t in a.state.roles){var n=a.state.roles[t];e[n.key]=n.value}var s=e["Duplicate Roles"];delete e["Duplicate Roles"],e["Lone Percival"]&&(delete e["Lone Percival"],e.LonePercival=!0),e["Lone Lovers"]&&(delete e["Lone Lovers"],e.LoneTristan=!0,e.LoneIseult=!0),e.Lovers&&(delete e.Lovers,e.Tristan=!0,e.Iseult=!0);var o={names:a.names(),custom:e,duplicates:s};a.sendGamePost(o)},a.isValid=function(){return 5===a.state.players.length||7===a.state.players.length||8===a.state.players.length||10===a.state.players.length?s.a.createElement("div",{className:"start-button-div"},s.a.createElement("button",{onClick:a.postToGame,className:"standard-button large-button start-button"},"Start Game"),s.a.createElement("button",{onClick:a.postToCustomGame,className:"large-button standard-button start-button"},"Start Custom Game")):s.a.createElement("div",{className:"start-button-div"},s.a.createElement("button",{className:"invalid-start large-button standard-button "},"Start Game"),s.a.createElement("button",{className:"invalid-start large-button standard-button"},"Start Custom Game"))},a.forwardToGame=function(e){e.preventDefault();var t=e.target[0].value;fetch("/isGame/"+t,{method:"GET"}).then(function(e){return e.json()}).then(function(e){e?a.setState({join_redirect:s.a.createElement(u.a,{to:{pathname:"/"+t}})}):a.setState({join_error:"Game ID not found"})})},a.names=function(){for(var e=[],t=a.state.players.values(),n=t.next();!n.done;)e.push(n.value.name),n=t.next();return e};return a.state={input:!1,info:!1,players:[],names:[],currId:"NULL",game:[],options:!1,join:!1,join_redirect:"",join_input:s.a.createElement("input",{type:"text",className:"input_ele",id:"join",placeholder:"Enter Game ID"}),roles:[{key:"Arthur",value:!0},{key:"Galahad",value:!1},{key:"Lancelot",value:!0},{key:"Percival",value:!0},{key:"Lone Percival",value:!1},{key:"Guinevere",value:!0},{key:"Merlin",value:!0},{key:"Titania",value:!0},{key:"Nimue",value:!1},{key:"Gawain",value:!1},{key:"Lovers",value:!0},{key:"Lone Lovers",value:!1},{key:"Mordred",value:!0},{key:"Morgana",value:!0},{key:"Maelegant",value:!0},{key:"Oberon",value:!0},{key:"Agravaine",value:!0},{key:"Colgrevance",value:!0},{key:"Duplicate Roles",value:!1}],switches:[],redirect:"",player_key:0,join_error:"",error:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){for(var e=[],t=this.state.players.values(),a=t.next();!a.done;)e.push(a.value.name),a=t.next();return s.a.createElement("div",{className:"Standard wrapper"},s.a.createElement(v,{options:this.state.roles,display:this.state.options,submit:this.optionsSubmit}),this.state.redirect,this.state.join_redirect,s.a.createElement("button",{className:"large-button standard-button",onClick:this.showInputs},"Create Game"),this.state.input?s.a.createElement("div",null,s.a.createElement("form",{className:"player_input",id:"player-name-input",onSubmit:this.playerSubmit},s.a.createElement("input",{type:"text",id:"input-field",placeholder:"Enter player name"}),s.a.createElement("br",null),s.a.createElement("div",{className:"error"},this.state.error),s.a.createElement("input",{type:"submit",className:"small-button ",id:"add-submit",value:"Add"}),s.a.createElement("button",{className:"small-button",onClick:this.options},"Options")),s.a.createElement("div",{className:"player-tag-container"},this.state.players.map(function(e){return e.value})),this.isValid()):null,s.a.createElement("button",{className:"large-button standard-button",onClick:this.join},"Join Game"),this.state.join?s.a.createElement("div",null,s.a.createElement("form",{className:"player_input",onSubmit:this.forwardToGame},this.state.join_input,s.a.createElement("input",{type:"submit",className:"small-button",id:"join-submit",value:"Join"}),s.a.createElement("br",null),s.a.createElement("div",{className:"error"}," ",this.state.join_error," ")),s.a.createElement(h,null)):null)}}]),t}(n.Component)),E=a(24),y=a.n(E),g=a(7),O=(a(38),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onJoinSubmit=function(e){if(e.preventDefault(),4===e.target[0].value.length)if(""!==e.target[1].value){var t={type:"JOIN_LOBBY",id:e.target[0].value,name:e.target[1].value};a.setState({id:e.target[0].value,name:e.target[1].value}),K.send(JSON.stringify(t))}else a.setState({lobbyJoinError:"Please enter a name"});else a.setState({lobbyJoinError:"Please enter a game id of length 4"})},a.onLobbyCreateSubmit=function(e){e.preventDefault(),""===e.target[0].value&&a.setState({lobbyCreateError:"Please enter a name"});var t={type:"CREATE_LOBBY",name:e.target[0].value};a.setState({name:e.target[0].value}),K.send(JSON.stringify(t))},console.log(Object(g.a)(Object(g.a)(a))),a.state={joinValid:!1,lobbyCreateError:"",lobbyJoinError:"",redirect:"",id:"",name:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.addEventListener("message",function(t){console.log("in live event handler"),console.log(t.data);var a=JSON.parse(t.data);switch(a.type){case"NEW_PLAYER":console.log("new player"),console.log(a.name);break;case"REMOVE_PLAYER":console.log("remove player");break;case"LOBBY_DELETED":console.log("delete lobby");break;case"LOBBY_CREATED":console.log("lobby created");var n="/live/"+a.id;e.setState({redirect:s.a.createElement(u.a,{to:{pathname:n,state:{name:e.state.name,creator:a.name,id:a.id,isCreator:!0,names:[a.name]}}})});break;case"LOBBY_JOINED":console.log("lobby joined"),console.log(a),n="/live/"+e.state.id,console.log(a.names),e.setState({redirect:s.a.createElement(u.a,{to:{pathname:n,state:{name:e.state.name,names:JSON.parse(a.names)}}})})}})}},{key:"render",value:function(){return s.a.createElement("div",{className:"Live"},this.state.redirect,s.a.createElement("form",{className:"lobby-form",onSubmit:this.onJoinSubmit},s.a.createElement("input",{className:"lobby-input",type:"text",placeholder:"Enter game code",autoComplete:"off"}),s.a.createElement("input",{className:"lobby-input",type:"text",placeholder:"Enter name",autoComplete:"off"}),s.a.createElement("input",{id:"join-game-submit",className:"live-button large-button",type:"submit",value:"Join Game"})),s.a.createElement("form",{className:"lobby-form",onSubmit:this.onLobbyCreateSubmit},s.a.createElement("input",{className:"lobby-input",type:"text",placeholder:"Enter name",autoComplete:"off"}),s.a.createElement("input",{id:"new-game-submit",className:"live-button large-button",type:"submit",value:"Create New Game"})))}}]),t}(n.Component)),N=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Rules",id:"rules"},s.a.createElement("h1",null,"Rules"),s.a.createElement("div",{id:"overview"}," ",s.a.createElement("h2",null,"Overview")," "),"THavalon is a custom ruleset for the social deception game Resistance: Avalon. If you've played Avalon before, the basic structure of the game is the same, although there are many more roles.",s.a.createElement("div",{id:"missions"}," ",s.a.createElement("h2",null,"Good, Evil, and Missions")," "),"In THavalon, there are two teams, Good and Evil, who win depending on the outcome of five missions. For each mission, a certain number of players are sent. These players each select a mission card (fail, pass, or reverse) to play, and all cards played on the mission are then revealed to all players. If there is one fail card played, even if all the rest of the cards are successes, the mission fails. If a reverse card is played, the result of the mission is reversed (e.g. a failing mission will become a passing mission, or vise verse). Only Lancelot and Maelegant can play reverse cards. Good wins if they pass three missions, and survive assasination. Evil wins if they fail three missions.",s.a.createElement("div",{id:"proposals"}," ",s.a.createElement("h2",null,"Proposals")," "),"To determine who goes on missions, players make proposals, which are then voted on. The first mission is a binary choice between proposals made by the two players before the starting player, which are not discussed. After that, beginning with the starting player, proposals travel clockwise, moving to the next person if they are voted down. There are a limited number of missions that can be proposed per round (3 in 5 players, 4 in 7 and 8 player, and 5 in 10 player). The last possible proposal is sent automatically.",s.a.createElement("h2",null,"Assassination"),"If Good has successfully passed three missions, Evil then has the chance to assasinate. To assasinate, can either name a pair of Lovers, Merlin, Nimue if included, or claim there are no assasinable targets in the game. If Evil selects correctly, they win. If not, Good wins.",s.a.createElement("h2",null,"Inquisition and Hijack"),'With 7+ players, two new mechanics come into play: weak inquisition and hijack. Weak inquisition happens if the first proposal of a round is sent. The player who sent the mission can then select one other player, and view their card, showing it to no one else. Hijack happens when the last proposal of a round is sent. An evil player will have the ability "Hijack" declared in their information. This player may then reveal themselves as evil, and remove a player from the mission, inserting themselves on.',s.a.createElement("h2",null," Roles "),s.a.createElement("div",{className:"italics"},"Note: by default the following roles are included in the game, with no duplicates or Lone Lovers",s.a.createElement("div",{className:"break"}," 5 players: Lancelot, Merlin, the Lovers, Percival, Guinevere, Mordred, Morgana, Maelegant, Oberon "),s.a.createElement("div",{className:"break"}," 7 players: add Titania and Arthur"),s.a.createElement("div",{className:"break"}," 8 players: add Agravaine "),s.a.createElement("div",{className:"break"}," 10 players: add Colgrevance ")),s.a.createElement("h2",null,"Good Roles"),s.a.createElement("ul",{className:"roles-list"},s.a.createElement("li",null," ",s.a.createElement("em",null," Arthur: ")," knows which Good roles are present in the game. "),s.a.createElement("li",null," ",s.a.createElement("em",null,"Galahad: ")," Can declare after two failed missions. Then may conduct a 'night phase' where they request two good roles, who then reveal themselves to Galahad only."),s.a.createElement("li",null," ",s.a.createElement("em",null," Gawain: ")," Sees two pairs of players, one pair is on the same team, one is on opposite teams."),s.a.createElement("li",null," ",s.a.createElement("em",null," Guinevere: "),' Sees two rumors in the form of "A sees B" where A and B are players, one of which is true, one of which is a lie.'),s.a.createElement("li",null," ",s.a.createElement("em",null," Lancelot: ")," may play reverses while on missions; appears evil to Merlin. "),s.a.createElement("li",null," ",s.a.createElement("em",null," The Lovers (Tristan and Iseult): ")," see each other, always appear together (unless Lone Lovers is enabled), and can be assassinated as a pair. "),s.a.createElement("li",null," ",s.a.createElement("em",null," Merlin: ")," sees all players that are either evil (except Mordred) or are Lancelot, can be assassinated."),s.a.createElement("li",null," ",s.a.createElement("em",null," Nimue: ")," knows which roles are in the game; can be Assassinated. "),s.a.createElement("li",null," ",s.a.createElement("em",null," Percival: ")," sees both Merlin and Morgana, but cannot distinguish which role each seen player has. "),s.a.createElement("li",null," ",s.a.createElement("em",null," Titania:")," adds false information to one Evil player's information.")),s.a.createElement("h2",null,"Evil Roles"),s.a.createElement("ul",{className:"roles-list"},s.a.createElement("li",null," ",s.a.createElement("em",null," Mordred:")," is hidden from Merlin."),s.a.createElement("li",null," ",s.a.createElement("em",null," Morgana: ")," appears like Merlin to Percival. "),s.a.createElement("li",null," ",s.a.createElement("em",null," Maelegant:")," may play Reversal cards while on missions."),s.a.createElement("li",null," ",s.a.createElement("em",null," Oberon: ")," adds false information to one Good player. "),s.a.createElement("li",null," ",s.a.createElement("em",null," Agravaine: ")," must play Fails; may declare after having been on a successful mission to cause it to Fail instead."),s.a.createElement("li",null," ",s.a.createElement("em",null," Colgrevance ")," is hidden from other Evil roles; knows which player has each Evil role.")))}}]),t}(n.Component),S=(a(14),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).decide=function(e){e?a.setState({next:!0}):(K.send(JSON.stringify({type:"HIJACK_RESPONSE",choice:e,id:a.props.match.params.id,name:a.props.name})),a.props.hide(Object(g.a)(Object(g.a)(a))))},a.select=function(e){e.selected=!0,a.state.players.forEach(function(t){t!==e&&(t.selected=!1)}),a.forceUpdate()},a.hijack=function(){var e=a.state.players.filter(function(e){return e.selected});1===e.length&&(K.send(JSON.stringify({type:"HIJACK_RESPONSE",choice:!0,player:e[0]})),a.props.hide(Object(g.a)(Object(g.a)(a))))},a.state={next:!1,players:a.props.players.map(function(e){return{name:e,selected:!1}})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Hijack pop-up"},this.state.next?s.a.createElement("div",null,s.a.createElement("h2",null," Choose a player to remove from the mission"),s.a.createElement("div",{className:"players-wrapper"},this.state.players.map(function(t){var a=t.selected?"selected":"";return s.a.createElement("div",{className:" player-wrapper"},s.a.createElement("div",{className:"proposal-player "+a,onClick:function(){return e.select(t)}},s.a.createElement("div",{className:"player-text"}," ",t.name," ")))})),s.a.createElement("button",{className:"large-button proposal-button",onClick:this.hijack},"Confirm")):s.a.createElement("div",{className:"proposal-wrapper"},s.a.createElement("h2",null," You have the Hijack ability. Would you like to remove a player from this mission? "),s.a.createElement("div",null,s.a.createElement("button",{className:"proposal-button",onClick:function(){return e.decide(!0)}},"Yes"),s.a.createElement("button",{className:"proposal-button",onClick:function(){return e.decide(!1)}},"No"))))}}]),t}(n.Component)),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).decide=function(e){K.send(JSON.stringify({type:"AGRAVAINE_RESPONSE",choice:e,id:a.props.match.params.id,name:a.props.name})),a.props.hide(Object(g.a)(Object(g.a)(a)))},a.state={},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Agravaine pop-up"},s.a.createElement("h2",{className:"agravaine-h2"}," Would you like to declare as Agravaine to cause this mission to fail? "),s.a.createElement("button",{className:"proposal-button",onClick:function(){return e.decide(!0)}},"Yes"),s.a.createElement("button",{className:"proposal-button",onClick:function(){return e.decide(!1)}},"No"))}}]),t}(n.Component);function j(e){for(var t="",a=0;a<e.length;a++)t+=e[a]+", ";return t.slice(0,t.length-2)}var w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).vote=function(e){K.send(JSON.stringify({type:"MISSION_VOTING_RESPONSE",vote:e,id:a.props.id,name:a.props.name})),a.props.hide(Object(g.a)(Object(g.a)(a)))},a.state={upSelected:!1,downSelected:!0,list:j(a.props.players)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"ProposalVoting pop-up"},s.a.createElement("div",{className:"proposal-list"},"Voting on: ",this.state.list),s.a.createElement("button",{className:"proposal-vote",onClick:function(){return e.vote("upvote")}},s.a.createElement("i",{className:"far fa-thumbs-up"})),s.a.createElement("button",{className:"proposal-vote",onClick:function(){return e.vote("downvote")}},s.a.createElement("i",{className:"far fa-thumbs-down"})))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).selectFirstProposal=function(){a.setState({missionOneSelected:!0,missionTwoSelected:!1})},a.selectSecondProposal=function(){a.setState({missionOneSelected:!1,missionTwoSelected:!0})},a.vote=function(){var e="";if(a.state.missionOneSelected)e="upvote";else{if(!a.state.missionTwoSelected)return;e="downvote"}K.send(JSON.stringify({type:"MISSION_ONE_VOTING_RESPONSE",vote:e,id:a.props.id,name:a.props.name})),a.props.hide(Object(g.a)(Object(g.a)(a)))},a.state={missionOneSelected:!1,missionTwoSelected:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.missionOneSelected?"mission-one-mission selected":"mission-one-mission",t=this.state.missionTwoSelected?"mission-one-mission selected":"mission-one-mission";return s.a.createElement("div",{className:"MissionOneProposalVoting pop-up"},s.a.createElement("h2",null,"Mission One"),s.a.createElement("div",{className:"mission-wrapper"},s.a.createElement("div",{className:e,onClick:this.selectFirstProposal},"First Proposal: ",j(JSON.parse(this.props.firstProposal))),s.a.createElement("div",{className:t,onClick:this.selectSecondProposal},"Second Proposal: ",j(JSON.parse(this.props.secondProposal)))),s.a.createElement("button",{className:"large-button proposal-button",onClick:this.vote},"Vote"))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).confirm=function(){K.send(JSON.stringify({type:"MISSION_PROPOSAL_RESULT_RESPONSE",id:a.props.id,name:a.props.name})),a.props.hide(Object(g.a)(Object(g.a)(a)))},a.state={},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"MissionProposalResult pop-up"},s.a.createElement("h2",null,this.props.proposedBy,"'s mission is ",this.props.sent?"going":"not going"),s.a.createElement("div",{className:"vote-div"},"Upvotes: ",j(JSON.parse(this.props.votedFor))),s.a.createElement("div",{className:"vote-div"},"Downvotes: ",j(JSON.parse(this.props.votedAgainst))),this.props.hijacked?s.a.createElement("div",null,"Hijacked by ",this.props.hijackedBy,". ",this.props.hijackRemoved," was removed from the mission"):null,s.a.createElement("button",{className:"large-button proposal-button",onClick:this.confirm},"Confirm"))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).info=function(){a.setState({info:!a.state.info})},a.state={isLiveGame:!1,info:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement("h1",null," THavalon "),s.a.createElement("div",{className:"live"},"Live game?"),s.a.createElement("div",{className:"switch"},s.a.createElement(y.a,{onChange:function(){e.setState({isLiveGame:!e.state.isLiveGame})},checked:this.state.isLiveGame})),this.state.isLiveGame?s.a.createElement(O,null):s.a.createElement(b,null),s.a.createElement("div",{className:"info"},this.state.info?s.a.createElement("div",{className:"rules_wrapper"},s.a.createElement("button",{id:"exit_button",onClick:this.info},s.a.createElement("i",{className:"fas fa-times"})),s.a.createElement("div",{className:"rules"},s.a.createElement(N,null))):null,s.a.createElement("button",{className:"info_button",onClick:this.info},"?")))}}]),t}(n.Component),L=(a(39),a(49)),R=a(52),G=a(51),A=(a(40),["Good Wins!","Evil wins on missions!","Evil wins by assassination!"]),I="Don't Record Results!",T=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).make_submitter=function(e){return function(){a.submit_results(e,!0)}},a.submit_results=function(e,t){var n=a.props.location.state.id;fetch("/gameover/"+n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({result:e,record:t})}).catch(function(e){console.log(e)})},a.dont_record_results=function(){a.submit_results(I,!1)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=0;return s.a.createElement("div",{className:"submitresults"},s.a.createElement("h1",null," Submit results for game ",this.props.location.state.id," "),s.a.createElement("ul",null,A.map(function(a){return t++,s.a.createElement("li",null,s.a.createElement(d.a,{key:t,onClick:e.make_submitter(a),to:{pathname:"/"}},s.a.createElement("button",{className:"my_button, large_button"},a)))}),s.a.createElement("li",null,s.a.createElement(d.a,{key:t+1,onClick:this.dont_record_results,to:{pathname:"/"}},s.a.createElement("button",{className:"my_button, large_button"},I)))))}}]),t}(n.Component),M=a(25),J=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).render_game=function(){var e=a.props.match.params.id;console.log("Get Game Info"),fetch("/game/info/"+e,{method:"GET"}).then(function(e){return e.json()}).then(function(e){if(console.log("Response"),console.log(e),0!==e.length)return a.setState({game:e,start:e[0].name}),e;window.location.href="/"}).catch(function(e){console.log(e)})},a.state={game:[],start:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.history.push(""),this.props.history.push(this.props.location),this.render_game()}},{key:"render",value:function(){var e=this,t=0;return console.log(this.props.location),s.a.createElement("div",{className:"names"},s.a.createElement("h3",null,"Game ID: ",this.props.match.params.id," "),s.a.createElement(M.CopyToClipboard,{id:"copy",text:window.location.href},s.a.createElement("button",{className:"small-button",id:"copy_button"},"Copy")),s.a.createElement("h3",null," Starting Player: ",this.state.start," "),this.state.game.map(function(a){var n=e.props.location.pathname+"/"+a.name;return t++,s.a.createElement(d.a,{key:t,to:{pathname:n,state:{name:a.name,role:a.role,role_info:a.information,description:a.description}}},s.a.createElement("button",{className:"large-button"},s.a.createElement("span",null,a.name)))}),s.a.createElement(d.a,{to:{pathname:this.props.location.pathname+"/game/donotopen",state:{game:this.state.game}}},s.a.createElement("button",{className:"large-button"},"Do Not Open")),s.a.createElement(d.a,{to:{pathname:"/submitresults",state:{id:this.props.match.params.id}}},s.a.createElement("button",{className:"large-button"},"Submit Game Results")))}}]),t}(n.Component),x=(a(15),function(e){function t(e){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Mission pop-up"},s.a.createElement("button",{className:"close-button",onClick:this.props.hide},s.a.createElement("i",{className:"fas fa-times"})," "),s.a.createElement("h2",null,"Mission ",this.props.num),s.a.createElement("div",{className:"mission-info"},"On mission: ",j(this.props.onMission)),s.a.createElement("div",{className:"mission-info"},"Result: ",this.props.result," "),s.a.createElement("div",{className:"mission-info"},"Cards played: ",j(this.props.cardsPlayed)),s.a.createElement("div",{className:"mission-info"},"Proposed by: ",this.props.proposedBy," "),s.a.createElement("div",{className:"mission-info"},"Voted For: ",j(JSON.parse(this.props.votedFor))," "),s.a.createElement("div",{className:"mission-info"},"Voted Against: ",j(this.props.votedAgainst)," "))}}]),t}(n.Component)),D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).next=function(){var e=a.state.players,t={name:e[a.state.curr].name,selected:!1};e.splice(a.state.curr,1,t);var n=a.state.curr===e.length-1?0:a.state.curr+1;t={name:e[n].name,selected:!0},e.splice(n,1,t),a.setState({curr:n,players:e})},a.state={players:a.props.players.map(function(e){return{name:e,selected:!1}}),curr:0},console.log(a.state),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){this.setState({players:e.players.map(function(e){return{name:e,selected:!1}})}),this.state.players.length>0&&(this.state.players[0].selected=!0),this.forceUpdate()}},{key:"render",value:function(){return s.a.createElement("div",{className:"PlayerList"},s.a.createElement("div",{className:"player-list-ele"}," Proposal Order: "),this.state.players.map(function(e){var t=e.selected?"selected-list":"";return s.a.createElement("div",{className:"player-list-ele "+t},e.name)}))}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).parseInfo=function(e){console.log(e);var t=[];return Object.keys(e).forEach(function(a){t.push(e[a])}),console.log(t),t.flat()},console.log(a.props.info),a.state={name:a.props.info.name,role:a.props.info.role,role_info:a.props.info.information,description:a.props.info.description},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"LivePlayerInfo pop-up"},s.a.createElement("button",{className:"close-button",onClick:function(){return e.props.hide(e)}},s.a.createElement("i",{className:"fas fa-times"})),s.a.createElement("h2",{className:"player-title"},"You are ",this.state.role),s.a.createElement("div",{className:"description"},this.state.description),s.a.createElement("div",{className:"info"},this.parseInfo(JSON.parse(this.state.role_info))),s.a.createElement("ul",null))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).toggleSelected=function(e){if(e.selected)e.selected=!1;else{var t=0;if(a.state.players.forEach(function(e){e.selected&&t++}),t===a.props.num)return;e.selected=!0}a.forceUpdate()},a.sendProposal=function(){console.log(a.props.id);var e=a.state.players.filter(function(e){return e.selected}).map(function(e){return e.name});if(e.length===a.props.num){console.log(e);var t=a.props.missionOne?"MISSION_ONE_PROPOSAL_RESPONSE":"MISSION_PROPOSAL_RESPONSE";K.send(JSON.stringify({type:t,proposal:e,id:a.props.id,name:a.props.name})),a.props.close(Object(g.a)(Object(g.a)(a)))}else a.setState({error:"Not enough players selected"})},a.state={players:a.props.players.map(function(e){return{name:e,selected:!1}}),selected:[],error:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Proposal pop-up"},s.a.createElement("button",{className:"close-button",onClick:function(){return e.props.hide()}},s.a.createElement("i",{className:"fas fa-times"})),s.a.createElement("div",{className:"player-list"},this.state.players.map(function(t){var a=t.selected?"selected":"";return s.a.createElement("div",{className:"player-wrapper"},s.a.createElement("div",{className:"proposal-player "+a,onClick:function(){return e.toggleSelected(t)}},s.a.createElement("div",{className:"player-text"}," ",t.name," ")))})),s.a.createElement("div",{className:"error"},this.state.error),s.a.createElement("button",{className:"large-button",id:"proposal-confirm",onClick:this.sendProposal},"Confirm"))}}]),t}(n.Component),V=(a(44),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).togglePass=function(){a.setState({passSelected:!a.state.passSelected,failSelected:!1,reverseSelected:!1})},a.toggleFail=function(){a.setState({failSelected:!a.state.failSelected,passSelected:!1,reverseSelected:!1})},a.toggleReverse=function(){a.setState({reverseSelected:!a.state.reverseSelected,passSelected:!1,failSelected:!1})},a.vote=function(){var e;if(a.state.reverseSelected)e="R";else if(a.state.failSelected)e="F";else{if(!a.state.passSelected)return;e="P"}K.send(JSON.stringify({type:"PLAY_CARD_RESPONSE",card:e,id:a.props.id,name:a.props.name})),a.props.hide(Object(g.a)(Object(g.a)(a)))},a.state={canFail:!0,canReverse:!0,passSelected:!1,failSelected:!1,reverseSelected:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.passSelected?"selected":"";e="card pass "+e;var t=this.state.failSelected?"selected":"";t="card fail "+t;var a=this.state.reverseSelected?"selected":"";return a="card reverse "+a,s.a.createElement("div",{className:"Voting"},s.a.createElement("button",{className:"close-button"},s.a.createElement("i",{className:"fas fa-times"})),s.a.createElement("div",{className:"card-wrapper"},s.a.createElement("div",{className:e,onClick:this.togglePass},s.a.createElement("div",{className:"card-content"}," Pass ")),this.props.canFail?s.a.createElement("div",{className:t,onClick:this.toggleFail},s.a.createElement("div",{className:"card-content"}," Fail ")):null,this.props.canReverse?s.a.createElement("div",{className:a,onClick:this.toggleReverse},s.a.createElement("div",{className:"card-content"}," Reverse ")):null),s.a.createElement("button",{id:"confirm",className:"large-button",onClick:this.vote},"Confirm"))}}]),t}(n.Component)),Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).next=function(e){a.setState({type:e,next:!0})},a.select=function(e){if(e.selected)e.selected=!1;else{var t=0;if(a.state.players.forEach(function(e){e.selected&&t++}),t===a.state.type)return;e.selected=!0}},a.assasinate=function(){var e,t=[];switch(a.state.type){case 0:e="no_targets";break;case 1:e="merlin";break;case 2:e="lovers"}a.state.players.forEach(function(e){e.selected&&t.push(e)}),K.send(JSON.stringify({type:"ASSASSINATE_RESPONSE",assassination_type:e,targets:t,id:a.props.match.params.id,name:a.props.name})),a.props.hide(Object(g.a)(Object(g.a)(a)))},a.state={type:null,next:!1,players:a.props.targets.map(function(e){return{name:e,selected:!1}})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Assassinate pop-up"},this.state.next?s.a.createElement("div",null,"Good has passed three missions. You now have the chance to assassinate. Which role would you like to assassinate?",s.a.createElement("button",{className:"proposal-button assasinate-button",onClick:function(){return e.next(1)}},"Merlin"),s.a.createElement("button",{className:"proposal-button assasinate-button",onClick:function(){return e.next(2)}},"Lovers"),s.a.createElement("button",{className:"proposal-button assasinate-button",onClick:function(){return e.next(0)}},"No Assassinable Targets")):s.a.createElement("div",null,1===this.state.type?s.a.createElement("h2",null,"You are assassinating a player as Merlin. Select your target"):s.a.createElement("h2",null,"You are assassinating Loves. Select your targets"),s.a.createElement("div",{className:"player-list"},this.state.players.map(function(t){var a=t.selected?"selected":"";return s.a.createElement("div",{className:"player-wrapper"},s.a.createElement("div",{className:"proposal-player "+a,onClick:function(){return e.select(t)}},s.a.createElement("div",{className:"player-text"}," ",t.name," ")))})),s.a.createElement("button",{onClick:this.assasinate},"Confirm")))}}]),t}(n.Component),H=(a(45),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).setupSocket=function(){K.addEventListener("message",function(e){console.log("in board event handler"),console.log(e.data);var t=JSON.parse(e.data);switch(t.type){case"MISSION_ONE_PROPOSAL":a.setState({proposal:s.a.createElement(B,{id:a.props.match.params.id,name:a.props.location.state.name,players:a.state.players,missionOne:!0,num:a.state.missions[0].num,hide:a.hide,close:a.closeProposal})});break;case"MISSION_ONE_VOTING":console.log(t),a.setState({popup:s.a.createElement(C,{id:a.props.match.params.id,name:a.props.location.state.name,firstProposal:t.first_proposal,secondProposal:t.second_proposal,hide:a.hide})});break;case"MISSION_ONE_VOTING_RESULT":a.state.missions[0].votedFor=t.voted_sent,a.state.missions[0].proposedBy=t.proposed_by,console.log(t.proposed_by),a.setState({popup:s.a.createElement(_,{name:a.props.location.state.name,sent:t.sent,votedFor:t.voted_sent,votedAgainst:t.voted_not_sent,notSent:t.not_sent,hide:a.hide,id:a.props.match.params.id})}),a.setState({currMission:1});break;case"MISSION_PROPOSAL":a.setState({proposal:s.a.createElement(B,{id:a.props.match.params.id,players:a.state.players,name:a.props.location.state.name,missionOne:!1,num:a.state.missions[a.state.currMission].num,hide:a.hide,close:a.closeProposal})});break;case"MISSION_PROPOSAL_RESULT":var n=t.hasOwnProperty("hijack"),o="",r="";n&&(o=t.hijacked_by,r=t.hijack_removed),a.playerList.current&&a.playerList.current.next(),a.state.missions[t.num].votedFor=t.voted_for,a.state.missions[t.num].proposedBy=t.proposed_by,a.setState({popup:s.a.createElement(_,{name:a.props.location.state.name,sent:t.sent,votedFor:t.voted_for,votedAgainst:a.state.players.filter(function(e){return!t.voted_for.includes(e)}),hide:a.hide,hijacked:n,hijackedBy:o,hijackRemoved:r})});break;case"MISSION_VOTING":a.setState({popup:s.a.createElement(w,{id:a.props.match.params.id,name:a.props.location.state.name,players:t.proposal,hide:a.hide})});break;case"PLAY_CARD":console.log("play card");var l=JSON.parse(t.cards);console.log(l),console.log(typeof l),a.setState({popup:s.a.createElement(V,{id:a.props.match.params.id,name:a.props.location.state.name,canReverse:l.includes("R"),canFail:l.includes("F"),hide:a.hide})});break;case"MISSION_RESULT":var i=a.state.missions;i[t.num-1].passed=t.result?1:2;var c=JSON.parse(t.cards);i[t.num-1].mission=s.a.createElement(x,{hide:a.hide,num:t.num,onMission:[t.players-1],result:"P"===t.result?"Passed":"Failed",cardsPlayed:c.map(function(e){switch(e){case"P":return"Pass";case"F":return"Fail";case"R":return"Reverse";default:return""}}),proposedBy:i[t.num-1].proposedBy,votedFor:i[t.num-1].votedFor,votedAgainst:a.state.players.filter(function(e){return!i[t.num-1].votedFor.includes(e)})}),console.log(i),a.setState({currMission:t.num,missions:i,popup:i[t.num-1].mission});break;case"HIJACK":a.setState({popup:s.a.createElement(S,{id:a.props.match.params.id,name:a.props.location.state.name,hide:a.hide})});break;case"AGRAVAINE":a.setState({popup:s.a.createElement(k,{id:a.props.match.params.id,name:a.props.location.state.name,hide:a.hide})});break;case"ASSASSINATE":a.setState({assassinate:s.a.createElement(Y,{id:a.props.match.params.id,name:a.props.location.state.name,targets:t.targets,hide:a.hide})});break;case"GAME RESULTS":var m=s.a.createElement("div",{className:"GameResults pop-up"},s.a.createElement("h2",null,"Game Results"),t.result,";",s.a.createElement(d.a,{to:{path:"/"}}));a.togglePopup(m),a.forceUpdate()}})},a.renderGame=function(){var e=a.props.match.params.id;console.log("Get Game Info"),fetch("/game/info/"+e,{method:"GET"}).then(function(e){return e.json()}).then(function(e){if(console.log(e),0!==e.length){var t=e.map(function(e){return e.name}),n=[];switch(t.length){case 5:n=[2,3,2,3,3];break;case 7:n=[2,3,3,4,4];break;case 8:case 10:n=[3,4,4,5,5]}console.log(t),a.setState({game:e,players:t,missions:n.map(function(e){return{num:e,passed:0,mission:null}}),info:e.filter(function(e){return e.name===a.props.location.state.name})[0]}),console.log(a.state),a.forceUpdate(),a.setupSocket();var s={type:"READY",id:a.props.match.params.id,name:a.props.location.state.name};return K.send(JSON.stringify(s)),e}console.error("Error retrieving game data from server")}).catch(function(e){console.error(e)})},a.onClickHandler=function(e){e.passed=3===e.passed?1:e.passed+1,console.log(e),a.forceUpdate()},a.togglePopup=function(e){console.log("Toggle Popup"),console.log(e),console.log(a.state.popup),null!==a.state.popup&&a.state.popup.type===e.type?a.setState({popup:null}):a.setState({popup:e})},a.hide=function(){console.log("hide"),a.setState({popup:null})},a.closeProposal=function(){a.setState({popup:null,proposal:null})},console.log(a.props.location.state.name),a.state={missions:[],options:["unsent","passed","failed"],popup:null,game:[],currMission:0,redirect:"",players:[],proposal:null,currProposal:0,assassinate:null,info:null,mission1:null,mission2:null},a.playerList=s.a.createRef(),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.renderGame()}},{key:"render",value:function(){var e=this;return console.log(this.state),s.a.createElement("div",{className:"Board"},this.state.popup,this.state.info?s.a.createElement("div",{className:"name",onClick:function(){return e.togglePopup(s.a.createElement(F,{hide:e.hide,info:e.state.info}))}},this.props.location.state.name):null,s.a.createElement("div",{className:"proposal-order"},s.a.createElement(D,{players:this.state.players,ref:this.playerList}),this.state.proposal?s.a.createElement("button",{className:"propose-button large-button",onClick:function(){return e.togglePopup(e.state.proposal)}},"Propose"):null,this.state.assassinate?s.a.createElement("button",{className:"propose-button large-button",onClick:function(){return e.togglePopup(e.state.assassinate)}},"Assassinate"):null),s.a.createElement("div",{className:"missions"},this.state.missions.map(function(t){var a=e.state.options[t.passed]+" mission";return console.log(a),s.a.createElement("div",{className:a,onClick:function(){return e.togglePopup(e.state.missions[t.num].mission)}},s.a.createElement("div",{className:"num"}," ",t.num))})))}}]),t}(n.Component)),U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).parseInfo=function(e){var t=JSON.parse(e);console.log(t);var a=[];return Object.keys(t).forEach(function(e){a.push(t[e])}),console.log(a),a.flat().map(function(e){return s.a.createElement("div",null,e)})},a.open=function(){a.setState({open:!a.state.open,text:a.state.open?"Show":"Hide"})},a.state={open:!1,text:"Show"},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"donotopen"},s.a.createElement("h1",null," Do Not Open "),s.a.createElement("button",{className:"my_button, large_button",id:"show_button",onClick:this.open},this.state.text),this.state.open?s.a.createElement("ul",{className:"donotopen_list"},this.props.location.state.game.map(function(t){return s.a.createElement("li",null,s.a.createElement("span",{className:"name"},t.name)," is ",t.role,", seeing: ",e.parseInfo(t.information))})):null)}}]),t}(n.Component),W=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onRemoveHandler=function(e){e===a.props.location.state.creator?a.deleteLobby():(a.removePlayer(e),K.send(JSON.stringify({type:"REMOVE_PLAYER",name:e,id:a.props.match.params.id})))},a.deleteLobby=function(){K.send(JSON.stringify({type:"DELETE_LOBBY",id:a.props.match.params.id}))},a.removePlayer=function(e){var t=a.state.names.filter(function(t){return t!==e});a.setState({names:t})},a.optionsSubmit=function(){},a.postToGame=function(){var e={type:"START_GAME",id:a.props.match.params.id,names:a.state.names};K.send(JSON.stringify(e))},console.log(e),console.log(a.props.location.state),console.log("lobby");return a.state={names:a.props.location.state.names,showOptions:!1,roles:[{key:"Arthur",value:!0},{key:"Galahad",value:!1},{key:"Lancelot",value:!0},{key:"Percival",value:!0},{key:"Lone Percival",value:!1},{key:"Guinevere",value:!0},{key:"Merlin",value:!0},{key:"Titania",value:!0},{key:"Nimue",value:!1},{key:"Gawain",value:!1},{key:"Lovers",value:!0},{key:"Lone Lovers",value:!1},{key:"Mordred",value:!0},{key:"Morgana",value:!0},{key:"Maelegant",value:!0},{key:"Oberon",value:!0},{key:"Agravaine",value:!0},{key:"Colgrevance",value:!0},{key:"Duplicate Roles",value:!1}],redirect:"",error:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.addEventListener("message",function(t){var a=JSON.parse(t.data);switch(a.type){case"NEW_PLAYER":console.log("new player"),console.log(a.name),e.setState({names:e.state.names.concat(a.name)});break;case"PLAYER_REMOVED":console.log("remove player"),e.removePlayer(a.name);break;case"SELF_REMOVED":console.log("self removed"),e.setState({redirect:s.a.createElement(u.a,{to:"/"})});break;case"GAME_STARTED":console.log("game started"),e.setState({redirect:s.a.createElement(u.a,{to:{pathname:"/"+a.id+"/board",state:{name:e.props.location.state.name}}})});break;case"ERROR":console.log("error"),e.setState({error:a.error})}})}},{key:"render",value:function(){var e=this;return console.log("lobby"),console.log(this.state),console.log(this.props),s.a.createElement("div",{className:"Lobby"},this.state.redirect,s.a.createElement(v,{options:this.state.roles,display:this.state.showOptions,submit:this.optionsSubmit}),s.a.createElement("h1",null,"Lobby ",this.props.match.params.id),this.props.location.state.isCreator?s.a.createElement("div",{id:"lobby-owner-view"},s.a.createElement("h2",null,"Players in Lobby"),s.a.createElement("div",{className:"player-tag-container"},this.state.names.map(function(t){return s.a.createElement(f,{name:t,change:function(){return e.onRemoveHandler(t)}})})),s.a.createElement("button",{className:"large-button lobby-button",onClick:function(){e.setState({showOptions:!e.state.showOptions})}},"Game options"),s.a.createElement("button",{className:"large-button lobby-button",onClick:this.deleteLobby},"Destroy Lobby"),s.a.createElement("button",{className:"large-button lobby-button",onClick:this.postToGame},"Start Game")):s.a.createElement("div",{id:"lobby-view"},s.a.createElement("h2",null,"Players in Lobby"),s.a.createElement("div",{className:"player-tag-container"},this.state.names.map(function(e){return s.a.createElement("div",{className:"live-player-tag"}," ",e)})),s.a.createElement("button",{className:"large-button lobby-button"},"Leave Lobby")),s.a.createElement("div",{className:"error"},this.state.error))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).parseInfo=function(){var e=JSON.parse(a.props.location.state.role_info);console.log(e);var t=[];return Object.keys(e).forEach(function(a){t.push(e[a])}),console.log(t),t.flat()},a.state={info:a.parseInfo()},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"player_info"},s.a.createElement("h1",{className:"player_title"}," Displaying information for ",this.props.location.state.name," "),s.a.createElement("h2",null,"You are ",this.props.location.state.role),s.a.createElement("div",{className:"description"},this.props.location.state.description.split("\n").map(function(e,t){return s.a.createElement("div",{key:t},e," ",s.a.createElement("br",null))})),s.a.createElement("ul",null,this.state.info.map(function(e){return s.a.createElement("li",null,e)})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.d(t,"socket",function(){return K});var K=new WebSocket("ws://localhost:4444/socket");console.log(K),r.a.render(s.a.createElement(L.a,null,s.a.createElement(R.a,null,s.a.createElement(G.a,{exact:!0,path:"/",component:P}),s.a.createElement(G.a,{exact:!0,path:"/live/:id",component:W}),s.a.createElement(G.a,{exact:!0,path:"/board",component:H}),s.a.createElement(G.a,{exact:!0,path:"/voting",component:V}),s.a.createElement(G.a,{exact:!0,path:"/proposal",component:B}),s.a.createElement(G.a,{exact:!0,path:"/proposalvoting",component:w}),s.a.createElement(G.a,{exact:!0,path:"/playerlist",component:D}),s.a.createElement(G.a,{exact:!0,path:"/submitresults",component:T}),s.a.createElement(G.a,{exact:!0,path:"/:id",component:J}),s.a.createElement(G.a,{exact:!0,path:"/:id/game/donotopen",component:U}),s.a.createElement(G.a,{exact:!0,path:"/:id/board",component:H}),s.a.createElement(G.a,{exact:!0,path:"/:id/:name",component:q}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[26,1,2]]]);
//# sourceMappingURL=main.2a42b725.chunk.js.map